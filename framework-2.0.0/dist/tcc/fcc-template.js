"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var fcc=globalThis.fcc;function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class BaseComponent extends cc.Component{constructor(){super(),_defineProperty(this,"scheduleTag",void 0),this.scheduleTag=new Array}getScheduleTag(){return this.scheduleTag}getScheduleAmount(){return this.scheduleTag.length}schedule(t,e,r,n){super.schedule(this.checkScheduleRepeat(t,r),e,r,n),this.scheduleTag.push(t)}checkScheduleRepeat(t,e){return 0<e?(t.prototype=()=>{--e<0&&this.unschedule(t),t.apply(this)},t.prototype):t}scheduleOnce(t,e){t.prototype=()=>{this.unschedule(t.prototype),t.apply(this)},this.schedule(t.prototype,0,0,e)}unschedule(t){super.unschedule(this.checkScheduleTag(t));t=this.checkScheduleCallFunIndex(t);-1<t&&this.scheduleTag.splice(t,1)}checkScheduleCallFunIndex(t){var e;if(-1!=this.getScheduleTag().indexOf(t))e=this.scheduleTag.indexOf(t);else{if(-1==this.getScheduleTag().indexOf(t.prototype))return-1;e=this.scheduleTag.indexOf(t.prototype)}return e}checkScheduleTag(t){var e=void 0,t=this.checkScheduleCallFunIndex(t);return e=-1<t?this.scheduleTag[t]:e}unscheduleAllCallbacks(){super.unscheduleAllCallbacks(),this.scheduleTag.length=0}}class AGenericTemplate extends BaseComponent{languageSetting(){}onLoad(){this.onCreate(),this.initialNotification()}start(){this.languageSetting(),this.initialUIView()}initialUIView(){}initialNotification(){}}class AFrameworkCenterTemplate extends AGenericTemplate{onLoad(){this.initClient(),this.configSetting(),this.audioSetting(),this.notificationSetting(),this.sceneStyle(),super.onLoad()}}function _createForOfIteratorHelper(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}class AutoStateChangeNotification extends fcc.ABS.ABaseNotification{constructor(){super(),_defineProperty(this,"TAG_NAME",void 0),this.TAG_NAME=fcc.type.NotificationType.AUTO_CHANGE}subscribe(t,e){super.subscribe(t,e)}notify(t,e,r){if(0<this.observer.size){var n,o=_createForOfIteratorHelper(this.observer);try{for(o.s();!(n=o.n()).done;){var i=n.value;i.pushNotification(t,e,r),i.isPermanent||this.unsubscribe(i)}}catch(t){o.e(t)}finally{o.f()}}}}function _createForOfIteratorHelper$1(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray$1(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function _unsupportedIterableToArray$1(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray$1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$1(t,e):void 0}}function _arrayLikeToArray$1(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}class ScrollFocusStateNotification extends fcc.ABS.ABaseNotification{constructor(){super(),_defineProperty(this,"TAG_NAME",void 0),this.TAG_NAME=fcc.type.NotificationType.SCROLL_FOCUS_STATE}subscribe(t,e){super.subscribe(t,e)}notify(t,e){if(0<this.observer.size){var r,n=_createForOfIteratorHelper$1(this.observer);try{for(n.s();!(r=n.n()).done;){var o=r.value;o.pushNotification(t,e),o.isPermanent||this.unsubscribe(o)}}catch(t){n.e(t)}finally{n.f()}}}}function _createForOfIteratorHelper$2(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray$2(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function _unsupportedIterableToArray$2(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray$2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$2(t,e):void 0}}function _arrayLikeToArray$2(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}class SpeedStateChangeNotification extends fcc.ABS.ABaseNotification{constructor(){super(),_defineProperty(this,"TAG_NAME",void 0),this.TAG_NAME=fcc.type.NotificationType.SPEED_CHANGE}subscribe(t,e){super.subscribe(t,e)}notify(t){if(0<this.observer.size){var e,r=_createForOfIteratorHelper$2(this.observer);try{for(r.s();!(e=r.n()).done;){var n=e.value;n.pushNotification(t),n.isPermanent||this.unsubscribe(n)}}catch(t){r.e(t)}finally{r.f()}}}}function _createForOfIteratorHelper$3(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray$3(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function _unsupportedIterableToArray$3(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray$3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$3(t,e):void 0}}function _arrayLikeToArray$3(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}class StopNowStateNotification extends fcc.ABS.ABaseNotification{constructor(){super(),_defineProperty(this,"TAG_NAME",void 0),this.TAG_NAME=fcc.type.NotificationType.STOP_NOW}subscribe(t,e){super.subscribe(t,e)}notify(){if(0<this.observer.size){var t,e=_createForOfIteratorHelper$3(this.observer);try{for(e.s();!(t=e.n()).done;){var r=t.value;r.pushNotification(),r.isPermanent||this.unsubscribe(r)}}catch(t){e.e(t)}finally{e.f()}}}}function _createForOfIteratorHelper$4(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray$4(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function _unsupportedIterableToArray$4(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray$4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$4(t,e):void 0}}function _arrayLikeToArray$4(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}class UserMoneyChangeNotification extends fcc.ABS.ABaseNotification{constructor(){super(),_defineProperty(this,"TAG_NAME",void 0),this.TAG_NAME=fcc.type.NotificationType.USER_MONEY_CHANGE}subscribe(t,e){super.subscribe(t,e)}notify(t){if(0<this.observer.size){var e,r=_createForOfIteratorHelper$4(this.observer);try{for(r.s();!(e=r.n()).done;){var n=e.value;n.pushNotification(t),n.isPermanent||this.unsubscribe(n)}}catch(t){r.e(t)}finally{r.f()}}}}function _createForOfIteratorHelper$5(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray$5(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function _unsupportedIterableToArray$5(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray$5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$5(t,e):void 0}}function _arrayLikeToArray$5(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}class UserTotalBetChangeNotification extends fcc.ABS.ABaseNotification{constructor(){super(),_defineProperty(this,"TAG_NAME",void 0),this.TAG_NAME=fcc.type.NotificationType.USER_BET_CHANGE}subscribe(t,e){super.subscribe(t,e)}notify(t,e){if(0<this.observer.size){var r,n=_createForOfIteratorHelper$5(this.observer);try{for(n.s();!(r=n.n()).done;){var o=r.value;o.pushNotification(t,e),o.isPermanent||this.unsubscribe(o)}}catch(t){n.e(t)}finally{n.f()}}}}function _createForOfIteratorHelper$6(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray$6(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function _unsupportedIterableToArray$6(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray$6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$6(t,e):void 0}}function _arrayLikeToArray$6(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}class UserWinPointStateNotification extends fcc.ABS.ABaseNotification{constructor(){super(),_defineProperty(this,"TAG_NAME",void 0),this.TAG_NAME=fcc.type.NotificationType.USER_GET_WIN}subscribe(t,e){super.subscribe(t,e)}notify(t,e){if(0<this.observer.size){var r,n=_createForOfIteratorHelper$6(this.observer);try{for(n.s();!(r=n.n()).done;){var o=r.value;o.pushNotification(t,e),o.isPermanent||this.unsubscribe(o)}}catch(t){n.e(t)}finally{n.f()}}}}function _createForOfIteratorHelper$7(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray$7(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function _unsupportedIterableToArray$7(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray$7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$7(t,e):void 0}}function _arrayLikeToArray$7(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}class ResponseResultNotification extends fcc.ABS.ABaseNotification{constructor(){super(),_defineProperty(this,"TAG_NAME",void 0),this.TAG_NAME=fcc.type.NotificationType.RESPONSE_RESULT}subscribe(t,e){super.subscribe(t,e)}notify(t){if(0<this.observer.size){var e,r=_createForOfIteratorHelper$7(this.observer);try{for(r.s();!(e=r.n()).done;){var n=e.value;n.pushNotification(t),n.isPermanent||this.unsubscribe(n)}}catch(t){r.e(t)}finally{r.f()}}}}function _createForOfIteratorHelper$8(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray$8(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function _unsupportedIterableToArray$8(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray$8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$8(t,e):void 0}}function _arrayLikeToArray$8(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}class SlotRowEndNotification extends fcc.ABS.ABaseNotification{constructor(){super(),_defineProperty(this,"TAG_NAME",void 0),this.TAG_NAME=fcc.type.NotificationType.SLOT_ROW_END}subscribe(t,e){super.subscribe(t,e)}notify(t,e){if(0<this.observer.size){var r,n=_createForOfIteratorHelper$8(this.observer);try{for(n.s();!(r=n.n()).done;){var o=r.value;o.pushNotification(t,e),o.isPermanent||this.unsubscribe(o)}}catch(t){n.e(t)}finally{n.f()}}}}class AutoStateChangeObserver extends fcc.ABS.ABaseObserver{constructor(t,e){super(t,e)}pushNotification(t,e,r){super.pushNotification(t,e,r)}}class ScrollFocusStateObserver extends fcc.ABS.ABaseObserver{constructor(t,e){super(t,e)}pushNotification(t,e){super.pushNotification(t,e)}}class SpeedStateChangeObserver extends fcc.ABS.ABaseObserver{constructor(t,e){super(t,e)}pushNotification(t){super.pushNotification(t)}}class StopNowStateObserver extends fcc.ABS.ABaseObserver{constructor(t,e){super(t,e)}pushNotification(){super.pushNotification()}}class UserMoneyChangeObserver extends fcc.ABS.ABaseObserver{constructor(t,e){super(t,e)}pushNotification(t){super.pushNotification(t)}}class UserTotalBetChangeObserver extends fcc.ABS.ABaseObserver{constructor(t,e){super(t,e)}pushNotification(t,e){super.pushNotification(t,e)}}class UserWinPointStateObserver extends fcc.ABS.ABaseObserver{constructor(t,e){super(t,e)}pushNotification(t,e){super.pushNotification(t,e)}}class ResponseResultObserver extends fcc.ABS.ABaseObserver{constructor(t,e){super(t,e)}pushNotification(t){super.pushNotification(t)}}class SlotRowEndObserver extends fcc.ABS.ABaseObserver{constructor(t,e){super(t,e)}pushNotification(t,e){super.pushNotification(t,e)}}function asyncGeneratorStep(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function _asyncToGenerator(s){return function(){var t=this,a=arguments;return new Promise(function(e,r){var n=s.apply(t,a);function o(t){asyncGeneratorStep(n,e,r,o,i,"next",t)}function i(t){asyncGeneratorStep(n,e,r,o,i,"throw",t)}o(void 0)})}}var undefined$1,Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function wrap(t,e,r,n){e=e&&e.prototype instanceof Generator?e:Generator,e=Object.create(e.prototype),n=new Context(n||[]);return e._invoke=makeInvokeMethod(t,r,n),e}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}var GenStateSuspendedStart="suspendedStart",GenStateSuspendedYield="suspendedYield",GenStateExecuting="executing",GenStateCompleted="completed",ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};IteratorPrototype[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function isGeneratorFunction(t){t="function"==typeof t&&t.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))}function mark(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,toStringTagSymbol in t||(t[toStringTagSymbol]="GeneratorFunction")),t.prototype=Object.create(Gp),t}function awrap(t){return{__await:t}}function AsyncIterator(a,s){var e;this._invoke=function(r,n){function t(){return new s(function(t,e){!function e(t,r,n,o){t=tryCatch(a[t],a,r);if("throw"!==t.type){var i=t.arg;return(r=i.value)&&"object"==typeof r&&hasOwn.call(r,"__await")?s.resolve(r.__await).then(function(t){e("next",t,n,o)},function(t){e("throw",t,n,o)}):s.resolve(r).then(function(t){i.value=t,n(i)},function(t){return e("throw",t,n,o)})}o(t.arg)}(r,n,t,e)})}return e=e?e.then(t,t):t()}}function async(t,e,r,n,o){void 0===o&&(o=Promise);var i=new AsyncIterator(wrap(t,e,r,n),o);return isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})}function makeInvokeMethod(o,i,a){var s=GenStateSuspendedStart;return function(t,e){if(s===GenStateExecuting)throw new Error("Generator is already running");if(s===GenStateCompleted){if("throw"===t)throw e;return doneResult()}for(a.method=t,a.arg=e;;){var r=a.delegate;if(r){var n=maybeInvokeDelegate(r,a);if(n){if(n===ContinueSentinel)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===GenStateSuspendedStart)throw s=GenStateCompleted,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=GenStateExecuting;n=tryCatch(o,i,a);if("normal"===n.type){if(s=a.done?GenStateCompleted:GenStateSuspendedYield,n.arg!==ContinueSentinel)return{value:n.arg,done:a.done}}else"throw"===n.type&&(s=GenStateCompleted,a.method="throw",a.arg=n.arg)}}}function maybeInvokeDelegate(t,e){var r=t.iterator[e.method];if(r===undefined$1){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=undefined$1,maybeInvokeDelegate(t,e),"throw"===e.method))return ContinueSentinel;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}r=tryCatch(r,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,ContinueSentinel;r=r.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=undefined$1),e.delegate=null,ContinueSentinel):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,ContinueSentinel)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function keys(r){var t,n=[];for(t in r)n.push(t);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}}function values(e){if(e){var t=e[iteratorSymbol];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,t=function t(){for(;++r<e.length;)if(hasOwn.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=undefined$1,t.done=!0,t};return t.next=t}}return{next:doneResult}}function doneResult(){return{value:undefined$1,done:!0}}(GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype).constructor=GeneratorFunction,GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction",defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this},defineIteratorMethods(Gp),Gp[toStringTagSymbol]="Generator",Gp[iteratorSymbol]=function(){return this},Gp.toString=function(){return"[object Generator]"},Context.prototype={constructor:Context,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=undefined$1,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined$1,this.tryEntries.forEach(resetTryEntry),!t)for(var e in this)"t"===e.charAt(0)&&hasOwn.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=undefined$1)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function t(t,e){return i.type="throw",i.arg=r,n.next=t,e&&(n.method="next",n.arg=undefined$1),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=hasOwn.call(o,"catchLoc"),s=hasOwn.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&hasOwn.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,ContinueSentinel):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),ContinueSentinel},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),ContinueSentinel}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n,o=r.completion;return"throw"===o.type&&(n=o.arg,resetTryEntry(r)),n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:values(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=undefined$1),ContinueSentinel}};var PageChangeType,DayType,_regeneratorRuntime={wrap:wrap,isGeneratorFunction:isGeneratorFunction,AsyncIterator:AsyncIterator,mark:mark,awrap:awrap,async:async,keys:keys,values:values};class AMainGameButtonTemplate extends AGenericTemplate{constructor(){super(...arguments),_defineProperty(this,"keyboardListener",void 0),_defineProperty(this,"_autoStateChangeObserver",void 0),_defineProperty(this,"nowSpeed",void 0),_defineProperty(this,"isAutoState",void 0),_defineProperty(this,"nowAutoType",void 0),_defineProperty(this,"longTouchTime",void 0),_defineProperty(this,"userMoney",void 0),_defineProperty(this,"_userMoneyChangeObserver",void 0)}onLoad(){this.keyboardListener=!1,this.nowAutoType=fcc.configMgr.autoCount,this.longTouchTime=.5,this.nowSpeed=fcc.configMgr.isSpeedUp,this.addNotification(),super.onLoad()}addNotification(){fcc.notificationMgr().getNotification(fcc.type.NotificationType.AUTO_CHANGE).subscribe(this.getAutoStateChangeObserver(),!0)}startButtonOnTouchStart(){this.unschedule(this.longTouchTimer),this.isAutoState?this.autoButtonEventListener():this.scheduleOnce(this.longTouchTimer,this.longTouchTime)}longTouchTimer(){var e=this;return _asyncToGenerator(_regeneratorRuntime.mark(function t(){return _regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.autoButtonEventListener(),t.next=3,e.startButtonEvent();case 3:case"end":return t.stop()}},t)}))()}startButtonOnTouchEnd(){var e=this;return _asyncToGenerator(_regeneratorRuntime.mark(function t(){return _regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.unschedule(e.longTouchTimer),e.isAutoState)return t.abrupt("return");t.next=3;break;case 3:return t.next=5,e.startButtonEvent();case 5:case"end":return t.stop()}},t)}))()}keyboardSpaceTouchStart(t){t.keyCode===cc.macro.KEY.space&&(this.keyboardListener||(this.keyboardListener=!0,this.startButtonOnTouchStart()))}keyboardSpaceTouchEnd(e){var r=this;return _asyncToGenerator(_regeneratorRuntime.mark(function t(){return _regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.keyCode,t.next=t.t0===cc.macro.KEY.space?3:7;break;case 3:return t.next=5,r.startButtonOnTouchEnd();case 5:return r.keyboardListener=!1,t.abrupt("break",7);case 7:case"end":return t.stop()}},t)}))()}getAutoStateChangeObserver(){var o=this;return this._autoStateChangeObserver||(this._autoStateChangeObserver=new AutoStateChangeObserver(function(){var n=_asyncToGenerator(_regeneratorRuntime.mark(function t(e,r,n){return _regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o.nowAutoType=n,o.isAutoState=e,o.autoEvent(e,n);case 3:case"end":return t.stop()}},t)}));return function(t,e,r){return n.apply(this,arguments)}}(),this)),this._autoStateChangeObserver}getUserMoneyChangeObserver(){return this._userMoneyChangeObserver||(this._userMoneyChangeObserver=new UserMoneyChangeObserver(t=>{this.userMoney=t},this)),this._userMoneyChangeObserver}autoButtonEventListener(){this.unschedule(this.longTouchTimer),this.isAutoState=!this.isAutoState,this.autoEvent(this.isAutoState,this.nowAutoType)}speedUpButtonEventListener(){this.nowSpeed=!this.nowSpeed,this.speedUpEvent(this.nowSpeed)}menuButtonEventListener(){this.unschedule(this.longTouchTimer),this.menuEvent()}}class AMainGameOnlyButtonTemplate extends AMainGameButtonTemplate{onLoad(){fcc.global.Button.addButtonEvent(this.autoButton,"autoButtonEventListener",this),fcc.global.Button.addButtonEvent(this.speedButton,"speedUpButtonEventListener",this),fcc.global.Button.addButtonEvent(this.totalBetButton,"totalBetFrameTouchEventListener",this),fcc.global.Button.addButtonEvent(this.menuButton,"menuButtonEventListener",this),super.onLoad()}startButtonOnEnable(){this.unschedule(this.longTouchTimer),this.startGameButton.node.on(cc.Node.EventType.TOUCH_START,this.startButtonOnTouchStart,this),this.startGameButton.node.on(cc.Node.EventType.TOUCH_END,this.startButtonOnTouchEnd,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.keyboardSpaceTouchStart,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.keyboardSpaceTouchEnd,this)}startButtonDisable(){this.unschedule(this.longTouchTimer),this.startGameButton.node.off(cc.Node.EventType.TOUCH_START,this.startButtonOnTouchStart,this),this.startGameButton.node.off(cc.Node.EventType.TOUCH_END,this.startButtonOnTouchEnd,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.keyboardSpaceTouchStart,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.keyboardSpaceTouchEnd,this)}}class AMenuButtonTemplate extends AGenericTemplate{constructor(){super(...arguments),_defineProperty(this,"userTotalBetChangeObserver",void 0),_defineProperty(this,"autoStateChangeObserver",void 0),_defineProperty(this,"nowAutoType",void 0)}onLoad(){this.nowAutoType=fcc.configMgr.autoCount,this.addNotification(),super.onLoad()}addNotification(){fcc.notificationMgr().getNotification(fcc.type.NotificationType.USER_BET_CHANGE).subscribe(this.getUserTotalBetChangeObserver(),!0)}musicEventListener(){var t=fcc.audioMgr.updateMusicOnMute();this.musicEvent(t)}effectEventListener(){var t=fcc.audioMgr.updateEffectOnMute();this.effectEvent(t)}betUpEventListener(){var t=this.nowBetIndex+1;t>this.lineBet.length-1&&(t=0),fcc.notificationMgr().getNotification(fcc.type.NotificationType.USER_BET_CHANGE).notify(this.nowBetIndex,t)}betDownEventListener(){var t=this.nowBetIndex-1;t<0&&(t=this.lineBet.length-1),fcc.notificationMgr().getNotification(fcc.type.NotificationType.USER_BET_CHANGE).notify(this.nowBetIndex,t)}getUserTotalBetChangeObserver(){return this.userTotalBetChangeObserver||(this.userTotalBetChangeObserver=new UserTotalBetChangeObserver((t,e)=>{this.nowBetIndex=e,this.totalBetChangeEvent(t,e)},this)),this.userTotalBetChangeObserver}autoButtonEventListener(t,e){this.autoEvent(this.nowAutoType,e),fcc.notificationMgr().getNotification(fcc.type.NotificationType.AUTO_CHANGE).notify(!0,this.nowAutoType,e),this.nowAutoType=e}}class AMenuOnlyButtonTemplate extends AMenuButtonTemplate{onLoad(){fcc.global.Button.addButtonEvent(this.musicButton,"musicEventListener",this),fcc.global.Button.addButtonEvent(this.effectButton,"effectEventListener",this),fcc.global.Button.addButtonEvent(this.betUpButton,"betUpEventListener",this),fcc.global.Button.addButtonEvent(this.betDownButton,"betDownEventListener",this),fcc.global.Button.addButtonEvent(this.auto50Button,"autoButtonEventListener",this,fcc.type.AutoType.AUTO_50),fcc.global.Button.addButtonEvent(this.auto100Button,"autoButtonEventListener",this,fcc.type.AutoType.AUTO_100),fcc.global.Button.addButtonEvent(this.auto500Button,"autoButtonEventListener",this,fcc.type.AutoType.AUTO_500),fcc.global.Button.addButtonEvent(this.auto1000Button,"autoButtonEventListener",this,fcc.type.AutoType.AUTO_1000),fcc.global.Button.addButtonEvent(this.autoFreeEndButton,"autoButtonEventListener",this,fcc.type.AutoType.FREE_END),fcc.global.Button.addButtonEvent(this.autoButton,"autoButtonEventListener",this,fcc.type.AutoType.AUTO),fcc.global.Button.addButtonEvent(this.goBackButton,"goBackTouchEvent",this),fcc.global.Button.addButtonEvent(this.goHomeButton,"goHomeTouchEvent",this),fcc.global.Button.addButtonEvent(this.recordButton,"recordPageTouchEvent",this),fcc.global.Button.addButtonEvent(this.settingButton,"settingPageTouchEvent",this),fcc.global.Button.addButtonEvent(this.descriptionPageButton,"descriptionPageEvent",this),super.onLoad()}}!function(t){t.NEXT="NEXT",t.PREVIOUS="PREVIOUS"}(PageChangeType=PageChangeType||{}),function(t){t.ONE_DAY="ONE_DAY",t.FIVE_DAY="FIVE_DAY",t.TEN_DAY="TEN_DAY"}(DayType=DayType||{});class ARecordButtonTemplate extends AGenericTemplate{onLoad(){super.onLoad()}}class ARecordOnlyButtonTemplate extends ARecordButtonTemplate{onLoad(){fcc.global.Button.addButtonEvent(this.goBackButton,"goBackTouchEvent",this),fcc.global.Button.addButtonEvent(this.oneDayRecordButton,"daysRecordTouchEventH",this,DayType.ONE_DAY),fcc.global.Button.addButtonEvent(this.fiveDayRecordButton,"daysRecordTouchEventH",this,DayType.FIVE_DAY),fcc.global.Button.addButtonEvent(this.tenDayRecordButton,"daysRecordTouchEventH",this,DayType.TEN_DAY),fcc.global.Button.addButtonEvent(this.nextRecordButton,"nextAndLastButtonTouchEvent",this,PageChangeType.NEXT),fcc.global.Button.addButtonEvent(this.previousRecordButton,"nextAndLastButtonTouchEvent",this,PageChangeType.PREVIOUS),super.onLoad()}}class AErrorFrameTemplate extends AGenericTemplate{onLoad(){fcc.global.Button.addButtonEvent(this.errorButton,"errorButtonTouchEvent",this),super.onLoad()}}class ALoadingTemplate extends AGenericTemplate{constructor(){super(),_defineProperty(this,"_isGetTableInfoResponse",void 0),this._isGetTableInfoResponse=!1}onLoad(){this.responseNotification(),fcc.global.Button.addButtonEvent(this.intoMainGameButton,"intoMainGameButtonEvent",this),super.onLoad()}start(){super.start(),this.loadExternalScript(),this.loadResources(),this.loadAssetBundle(),this.updateProgressTextAnimation()}responseNotification(){fcc.notificationMgr().getNotification(fcc.type.NotificationType.RESPONSE_RESULT).subscribe(new ResponseResultObserver(t=>{t==fcc.type.ServerEventType.TABLE_INFO&&(this._isGetTableInfoResponse=!0)},this),!1)}get isGetTableInfoResponse(){return this._isGetTableInfoResponse}}function __decorate(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;0<=s;s--)(o=t[s])&&(a=(i<3?o(a):3<i?o(e,r,a):o(e,r))||a);return 3<i&&a&&Object.defineProperty(e,r,a),a}function _createForOfIteratorHelper$9(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray$9(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function _unsupportedIterableToArray$9(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray$9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$9(t,e):void 0}}function _arrayLikeToArray$9(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ccclass=cc._decorator.ccclass,LINE_CONTAINER="LINE_CONTAINER",PARTICLE_CONTAINER="PARTICLE_CONTAINER",WIN_LINE_NODE_POOL="WIN_LINE_NODE",WIN_LINE_PARTICLE_NODE_POOL="WIN_LINE_PARTICLE_NODE",AWinLinTemplate=class extends AGenericTemplate{constructor(){super(...arguments),_defineProperty(this,"allGridPosition",void 0),_defineProperty(this,"allWinLine",void 0),_defineProperty(this,"allParticle",void 0),_defineProperty(this,"isStop",void 0),_defineProperty(this,"lineVector",void 0),_defineProperty(this,"particleVector",void 0),_defineProperty(this,"angle",void 0),_defineProperty(this,"runLineSpeed",void 0),_defineProperty(this,"runParticleSpeed",void 0),_defineProperty(this,"runParticleIntervalTime",void 0),_defineProperty(this,"lineContainerIndex",void 0),_defineProperty(this,"particleContainerIndex",void 0),_defineProperty(this,"_lineContainer",void 0),_defineProperty(this,"_particleContainer",void 0)}onCreate(){this.lineContainerIndex=cc.macro.MAX_ZINDEX-1,this.particleContainerIndex=cc.macro.MAX_ZINDEX,this.runLineSpeed=.2,this.runParticleSpeed=.2,this.runParticleIntervalTime=.05,this.angle=-90,this.lineVector=cc.Vec2.UP,this.particleVector=cc.Vec2.RIGHT,this.isStop=!1}start(){super.start(),this._lineContainer=this.buildWinLineContainer(),this._particleContainer=this.buildParticleContainer(),this.allGridPosition=this.initWinLinPosition(),this.allWinLine=new Array,this.allParticle=new Map,fcc.nodePoolMgr.init(WIN_LINE_NODE_POOL,this.lineSprite.node,20),fcc.nodePoolMgr.init(WIN_LINE_PARTICLE_NODE_POOL,this.particlePrefab,3)}restoreNode(t){if(t){this.allParticle.get(t).active=!1,this.allParticle.get(t).x=this.allWinLine[t].get(0).x;var e,r=_createForOfIteratorHelper$9(this.allWinLine[t].values());try{for(r.s();!(e=r.n()).done;){var n=e.value;n.active=!1,n.height=0}}catch(t){r.e(t)}finally{r.f()}}else{var o,i=_createForOfIteratorHelper$9(this._particleContainer.children);try{for(i.s();!(o=i.n()).done;)o.value.active=!1}catch(t){i.e(t)}finally{i.f()}var a,s=_createForOfIteratorHelper$9(this._lineContainer.children);try{for(s.s();!(a=s.n()).done;){var c=a.value;c.active=!1,c.height=0}}catch(t){s.e(t)}finally{s.f()}}}buildWinLineContainer(){var t=this.lineSprite.node.parent,e=new cc.Node;return e.name=LINE_CONTAINER,t.addChild(e,this.lineContainerIndex,LINE_CONTAINER),t.getChildByName(LINE_CONTAINER)}buildParticleContainer(){var t=this.lineSprite.node.parent,e=new cc.Node;return e.name=LINE_CONTAINER,t.addChild(e,this.particleContainerIndex,PARTICLE_CONTAINER),t.getChildByName(PARTICLE_CONTAINER)}play(e){var r=this;return _asyncToGenerator(_regeneratorRuntime.mark(function t(){return _regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.runLine(e);case 2:case"end":return t.stop()}},t)}))()}runLine(a){var s=this;return _asyncToGenerator(_regeneratorRuntime.mark(function t(){var e,r,n,o,i;return _regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=a.length,r=0;case 2:for(r==e&&(r=0),s.showWinPoint(r),n=a[r],o=0;o<n.length+1;o++)i=null!==(i=n[o-1])&&void 0!==i?i:n[0],s.initLinePosition(r,o,i);return s.initParticlePosition(r,n[0]),t.next=9,s.runLineToAsync(r,n);case 9:return t.next=11,s.runParticleToAsync(r,n);case 11:return t.next=13,s.hideNode(r);case 13:r++;case 14:if(!s.isStop){t.next=2;break}case 15:case"end":return t.stop()}},t)}))()}playAll(e){var r=this;return _asyncToGenerator(_regeneratorRuntime.mark(function t(){return _regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.showWinPoint(),t.next=3,r.runAllLine(e);case 3:case"end":return t.stop()}},t)}))()}runAllLine(i){var a=this;return _asyncToGenerator(_regeneratorRuntime.mark(function t(){var e,r;return _regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=_regeneratorRuntime.mark(function t(e){var r,n,o;return _regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=i[e],n=0;n<r.length+1;n++)o=null!==(o=r[n-1])&&void 0!==o?o:r[0],a.initLinePosition(e,n,o);if(a.initParticlePosition(e,r[0]),e==i.length-1)return t.next=6,a.runLineToAsync(e,r).then();t.next=10;break;case 6:return t.next=8,a.runParticleToAsync(e,r);case 8:t.next=11;break;case 10:a.runLineToAsync(e,r).then(()=>{a.runParticleToAsync(e,r)});case 11:case"end":return t.stop()}},t)}),r=0;case 2:if(r<i.length)return t.delegateYield(e(r),"t0",4);t.next=7;break;case 4:r++,t.next=2;break;case 7:return t.next=9,a.hideNode();case 9:case"end":return t.stop()}},t)}))()}initLinePosition(t,e,r){var n=0==e?this.allGridPosition[0].x-this.gridRowWidth:this.allGridPosition[r].x,r=this.allGridPosition[r].y;this.allWinLine[t].get(e).x=n,this.allWinLine[t].get(e).y=r}initParticlePosition(t,e){var r=this.allGridPosition[0].x-this.gridRowWidth,e=this.allGridPosition[e].y;this.allParticle.get(t).x=r,this.allParticle.get(t).y=e}getPosition(t,e,r){var n,o=this.allGridPosition[r].y;return 0==e?(n=this.allGridPosition[0].x-this.gridRowWidth,cc.v2(n,o)):e==this.gridColumnCount+1?(e=this.allGridPosition[r].x+this.gridRowWidth,cc.v2(e,o)):cc.v2(this.allGridPosition[r].x,o)}runLineToAsync(e,r){var n=this;return _asyncToGenerator(_regeneratorRuntime.mark(function t(){return _regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(t=>{n.lineToGridAnimationLoop(e,r,t)}));case 1:case"end":return t.stop()}},t)}))()}lineToGridAnimationLoop(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,o=null!==(i=e[n-1])&&void 0!==i?i:e[0],i=null!==(i=e[n])&&void 0!==i?i:e[e.length-1],o=this.getPosition(t,n,o),i=this.getPosition(t,n+1,i);this.allWinLine[t].get(n).angle=this.getAngleBetweenTwoPoints(o,i,this.lineVector);i=this.getDistanceBetweenTwoPoints(o,i);this.allWinLine[t].get(n).active=!0,cc.tween(this.allWinLine[t].get(n)).to(this.runLineSpeed,{height:i}).call(()=>{this.isStop||n==this.gridColumnCount?r():(this.showWinGrid(e[n],t),n++,this.lineToGridAnimationLoop(t,e,r,n))}).start()}runParticleToAsync(e,r){var n=this;return _asyncToGenerator(_regeneratorRuntime.mark(function t(){return _regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(t=>{n.particleToGridAnimationLoop(e,r,t)}));case 1:case"end":return t.stop()}},t)}))()}particleToGridAnimationLoop(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,o=null!==(i=e[n-1])&&void 0!==i?i:e[0],i=null!==(i=e[n])&&void 0!==i?i:e[e.length-1],o=this.getPosition(t,n,o),i=this.getPosition(t,n+1,i);this.allParticle.get(t).angle=this.getAngleBetweenTwoPoints(o,i,this.particleVector),this.allParticle.get(t).active=!0,cc.tween(this.allParticle.get(t)).to(this.runParticleSpeed,{x:i.x,y:i.y}).call(()=>{this.isStop||n==this.gridColumnCount?r():(n++,this.particleToGridAnimationLoop(t,e,r,n))}).start()}copyWinLineNode(t){this.copyParticleToContainer(t),this.copyWinLineToContainer(t)}copyParticleToContainer(t){for(var e=0;e<t;e++){var r=fcc.nodePoolMgr.get(WIN_LINE_PARTICLE_NODE_POOL);r.active=!1,this._particleContainer.addChild(r,e,"".concat("PARTICLE").concat(e)),this.allParticle.set(e,r)}return this}copyWinLineToContainer(t){for(var e=0;e<t;e++){for(var r=new Map,n=0;n<this.gridColumnCount+1;n++){var o=fcc.nodePoolMgr.get(WIN_LINE_NODE_POOL);o.active=!1,this._lineContainer.addChild(o,e,"".concat("LINE").concat(e,"_").concat(n)),r.set(n,o)}this.allWinLine.push(r)}return this}getDistanceBetweenTwoPoints(t,e){var r=Math.pow(e.x-t.x,2),t=Math.pow(e.y-t.y,2);return Math.sqrt(r+t)+1}getAngleBetweenTwoPoints(t,e,r){var n=e.x-t.x,t=e.y-t.y;return cc.v2(n,t).signAngle(r)*(180/Math.PI)*-1}clear(){this.allWinLine.length=0,this.allParticle.clear();for(var t=this._lineContainer.children.length,e=0;e<t;e++)this._lineContainer.children[0].active=!1,this._lineContainer.children[0].height=0,cc.Tween.stopAllByTarget(this._lineContainer.children[0]),fcc.nodePoolMgr.put(this._lineContainer.children[0],!0);for(var r=this._particleContainer.children.length,n=0;n<r;n++)cc.Tween.stopAllByTarget(this._particleContainer.children[0]),this._particleContainer.children[0].getComponent(cc.ParticleSystem).resetSystem(),fcc.nodePoolMgr.put(this._particleContainer.children[0],!0)}get particleContainer(){return this._particleContainer}get lineContainer(){return this._lineContainer}},AWinLinTemplate$1=AWinLinTemplate=__decorate([ccclass],AWinLinTemplate);class AMainInitTemplate extends AGenericTemplate{onLoad(){this.prefabInstantiate(),super.onLoad()}}var VERSION="2.0.1";globalThis.TCC_VERSION=VERSION,exports.AErrorFrameTemplate=AErrorFrameTemplate,exports.AFrameworkCenterTemplate=AFrameworkCenterTemplate,exports.AGenericTemplate=AGenericTemplate,exports.ALoadingTemplate=ALoadingTemplate,exports.AMainGameButtonTemplate=AMainGameButtonTemplate,exports.AMainGameOnlyButtonTemplate=AMainGameOnlyButtonTemplate,exports.AMainInitTemplate=AMainInitTemplate,exports.AMenuButtonTemplate=AMenuButtonTemplate,exports.AMenuOnlyButtonTemplate=AMenuOnlyButtonTemplate,exports.ARecordButtonTemplate=ARecordButtonTemplate,exports.ARecordOnlyButtonTemplate=ARecordOnlyButtonTemplate,exports.AWinLinTemplate=AWinLinTemplate$1,exports.AutoStateChangeNotification=AutoStateChangeNotification,exports.AutoStateChangeObserver=AutoStateChangeObserver,exports.BaseComponent=BaseComponent,exports.ResponseResultNotification=ResponseResultNotification,exports.ResponseResultObserver=ResponseResultObserver,exports.ScrollFocusStateNotification=ScrollFocusStateNotification,exports.ScrollFocusStateObserver=ScrollFocusStateObserver,exports.SlotRowEndNotification=SlotRowEndNotification,exports.SlotRowEndObserver=SlotRowEndObserver,exports.SpeedStateChangeNotification=SpeedStateChangeNotification,exports.SpeedStateChangeObserver=SpeedStateChangeObserver,exports.StopNowStateNotification=StopNowStateNotification,exports.StopNowStateObserver=StopNowStateObserver,exports.UserMoneyChangeNotification=UserMoneyChangeNotification,exports.UserMoneyChangeObserver=UserMoneyChangeObserver,exports.UserTotalBetChangeNotification=UserTotalBetChangeNotification,exports.UserTotalBetChangeObserver=UserTotalBetChangeObserver,exports.UserWinPointStateNotification=UserWinPointStateNotification,exports.UserWinPointStateObserver=UserWinPointStateObserver,exports.fcc=fcc;
