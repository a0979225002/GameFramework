{"version":3,"sources":["assets\\script\\MainGameScript\\ButtonEvent\\RecordPageButton.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAO,OAAO,GAAG,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC;AACvC,IAAO,QAAQ,GAAG,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC;AACzC,mEAA0D;AAC1D,0EAAqE;AACrE,iFAA8E;AAC9E,sEAAiE;AACjE,oEAAyE;AACzE,6HAAwH;AACxH,iHAA4G;AAC5G,mEAA8D;AAC9D,2GAI8E;AAC9E,6HAAwH;AACxH,8CAA6C;AAC7C,4DAAuD;AACvD,mDAA8C;AAY9C;;;;;GAKG;AAEH;IAA8C,oCAA2B;IAmErE;QAAA,YACI,iBAAO,SAaV;QA9ES,yBAAmB,GAAc,IAAI,CAAC;QAEtC,yBAAmB,GAAc,IAAI,CAAC;QAEtC,0BAAoB,GAAc,IAAI,CAAC;QAEvC,0BAAoB,GAAc,IAAI,CAAC;QAEvC,yBAAmB,GAAc,IAAI,CAAC;QAEtC,yBAAmB,GAAc,IAAI,CAAC;QAEtC,mBAAa,GAAc,IAAI,CAAC;QAEhC,mBAAa,GAAc,IAAI,CAAC;QAEhC,uBAAiB,GAAc,IAAI,CAAC;QAEpC,uBAAiB,GAAc,IAAI,CAAC;QAEpC,2BAAqB,GAAc,IAAI,CAAC;QAExC,2BAAqB,GAAc,IAAI,CAAC;QAClD,4DAA4D;QAElD,iBAAW,GAAY,IAAI,CAAC;QAE5B,iBAAW,GAAY,IAAI,CAAC;QAE5B,qBAAe,GAAY,IAAI,CAAC;QAEhC,qBAAe,GAAY,IAAI,CAAC;QAEhC,uBAAiB,GAAa,IAAI,CAAC;QAEnC,uBAAiB,GAAa,IAAI,CAAC;QAEnC,mBAAa,GAAY,IAAI,CAAC;QAE9B,mBAAa,GAAY,IAAI,CAAC;QAE9B,mBAAa,GAAa,IAAI,CAAC;QAE/B,mBAAa,GAAa,IAAI,CAAC;QAEzC,MAAM;QACW,iBAAW,GAAkB,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;QAoBrD,KAAI,CAAC,KAAK,GAAG;YACT,SAAS,EAAE,EAAE,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC;YACxC,IAAI,EAAE,EAAE,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC;YACnC,QAAQ,EAAE,EAAE,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC;YACvC,GAAG,EAAE,EAAE,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC;YAClC,WAAW,EAAE,EAAE,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC;YAC1C,MAAM,EAAE,EAAE,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC;YACrC,KAAK,EAAE,EAAE,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC;YACpC,SAAS,EAAE,EAAE,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC;YACxC,IAAI,EAAE,EAAE,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC;YACnC,KAAK,EAAE,EAAE,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC;SACvC,CAAC;;IACN,CAAC;yBAjFgB,gBAAgB;IAmFvB,mCAAQ,GAAlB;QACI,kBAAgB,CAAC,QAAQ,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,uBAAuB,EAAE,CAAC,CAAqD,SAAS;QAC7F,IAAI,CAAC,iCAAiC,EAAE,CAAC,CAA2C,sBAAsB;QAE1G,0CAAgC;aAC3B,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,8BAA8B,EAAE,EAAE,IAAI,CAAC,CAAC,CAAK,SAAS;QAEnF,IAAI,CAAC,UAAU,EAAE,CAAC,CAAkE,KAAK;IAC7F,CAAC;IAED;;;OAGG;IACK,qCAAU,GAAlB;QAEI,8BAA8B;QAC9B,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;QACxD,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;QACxD,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;QAC1D,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;QAC1D,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;QACzD,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;QACzD,IAAI,CAAC,MAAM,GAAG,4BAAO,CAAC,OAAO,CAAC;QAC9B,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QAE1C,IAAI,CAAC,cAAc,EAAE,CAAC;QAEtB,wBAAwB;QACxB,IAAI,CAAC,eAAe,GAAG;YACnB,GAAG,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;YACxB,IAAI,EAAE,CAAC;YACP,QAAQ,EAAE,CAAC;SACd,CAAA;QAED,IAAI,CAAC,eAAe,GAAG;YACnB,GAAG,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;YACxB,IAAI,EAAE,CAAC;YACP,QAAQ,EAAE,EAAE;SACf,CAAA;QAED,IAAI,CAAC,iBAAiB,GAAG;YACrB,UAAU,EAAE,CAAC;SAChB,CAAA;QAGD,IAAI,CAAC,iBAAiB,GAAG;YACrB,UAAU,EAAE,CAAC;SAChB,CAAA;IAEL,CAAC;IAED;;OAEG;IACK,4DAAiC,GAAzC;;QAEI,IAAI,cAAc,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC;QACnD,IAAI,cAAc,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC;QAEnD,IAAI,MAAM,GAAG,CAAC,CAAC;;YACf,KAAiB,IAAA,mBAAA,SAAA,cAAc,CAAA,8CAAA,0EAAE;gBAA5B,IAAI,IAAI,2BAAA;gBACT,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;gBAC1C,sBAAY,CAAC,cAAc,CAAC,MAAM,EAAE,yBAAyB,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;gBAC7E,MAAM,EAAE,CAAC;aACZ;;;;;;;;;QAED,IAAI,MAAM,GAAG,CAAC,CAAC;;YACf,KAAiB,IAAA,mBAAA,SAAA,cAAc,CAAA,8CAAA,0EAAE;gBAA5B,IAAI,IAAI,2BAAA;gBACT,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;gBAC1C,sBAAY,CAAC,cAAc,CAAC,MAAM,EAAE,yBAAyB,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;gBAC7E,MAAM,EAAE,CAAC;aACZ;;;;;;;;;IACL,CAAC;IAED;;;;;OAKG;IACK,kDAAuB,GAA/B,UAAgC,KAAK,EAAE,QAAQ;QAC3C,IAAI,WAAqB,CAAC;QAE1B,IAAI;YACA,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;YACxD,IAAI,WAAW,CAAC,MAAM,GAAG,QAAQ;gBAAE,OAAO;YAC1C,IAAI,CAAC,iBAAiB,CAAC,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC;YACnG,iBAAQ,CAAC,WAAW,CAAC,kBAAkB,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;SACpE;QAAC,OAAO,CAAC,EAAE;YACR,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;SACb;IACL,CAAC;IAED;;;;;OAKG;IACK,kDAAuB,GAA/B,UAAgC,KAAK,EAAE,QAAgB;QACnD,IAAI,WAAqB,CAAC;QAC1B,IAAI;YACA,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;YACxD,IAAI,WAAW,CAAC,MAAM,GAAG,QAAQ;gBAAE,OAAO;YAC1C,IAAI,CAAC,iBAAiB,CAAC,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC;YACnG,iBAAQ,CAAC,WAAW,CAAC,kBAAkB,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;SACpE;QAAC,OAAO,CAAC,EAAE;YACR,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;SACb;IACL,CAAC;IAED;;OAEG;IACH,kDAAuB,GAAvB;QAEI,sBAAY,CAAC,QAAQ,CAAC,mBAAmB,CAAC,iCAAe,CAAC,yBAAyB,EAAE,UAAC,aAAa;YAE/F,EAAE,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,gBAAgB,CAAC,aAAa,CAAC,CAAC;QAEtD,CAAC,EAAE,KAAK,CAAC,CAAA;IACb,CAAC;IAED;;OAEG;IACK,yDAA8B,GAAtC;QAAA,iBAKC;QAJG,OAAO,IAAI,sCAA4B,CAAC,UAAC,IAAI;YACzC,IAAI,CAAC,KAAI,CAAC,WAAW,CAAC,MAAM,IAAI,CAAC,KAAI,CAAC,WAAW,CAAC,MAAM;gBAAE,OAAO;YACjE,KAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,CAAC;QAC1C,CAAC,EAAE,IAAI,CAAC,CAAC;IACb,CAAC;IAED;;;;OAIG;IACW,8CAAmB,GAAjC,UAAkC,IAAwB;;;;;6BAElD,CAAA,IAAI,IAAI,+BAAkB,CAAC,SAAS,CAAA,EAApC,wBAAoC;wBAEpC,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC;wBAC/B,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,KAAK,CAAC;wBAChC,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG,CAAC,CAAC,CAAA,qBAAqB;wBACnD,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;wBAC1C,qBAAM,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,eAAe,CAAC,EAAA;;wBAA9C,SAA8C,CAAC;;;6BAExC,CAAA,IAAI,IAAI,+BAAkB,CAAC,QAAQ,CAAA,EAAnC,wBAAmC;wBAE1C,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,KAAK,CAAC;wBAChC,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC;wBAC/B,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG,CAAC,CAAC,CAAA,qBAAqB;wBACnD,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;wBAC1C,qBAAM,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,eAAe,CAAC,EAAA;;wBAA9C,SAA8C,CAAC;;;wBAG/C,EAAE,CAAC,GAAG,CAAC,gEAA+C,IAAM,CAAC,CAAC;;;;;;KAErE;IAED;;;;OAIG;IACG,wCAAa,GAAnB,UAAoB,cAA8B;;;;;wBAC9C,iBAAQ,CAAC,WAAW,CAAC,gBAAgB,EAAE,cAAc,CAAC,CAAC;wBACvD,IAAI,CAAC,cAAc,EAAE,CAAC;wBACtB,qBAAM,IAAI,CAAC,WAAW,EAAE,EAAA;;wBAAxB,SAAwB,CAAC;wBACzB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;;;;;KAC7C;IAED;;;;;OAKG;IACO,iDAAsB,GAAhC,UAAiC,eAAgC;QAC7D,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;IAC3C,CAAC;IAEY,yCAAc,GAA3B;;;;;wBACI,qBAAqB;wBACrB,IAAI,CAAC,UAAU,EAAE,CAAC;wBAClB,qBAAM,IAAI,CAAC,mBAAmB,CAAC,sBAAY,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAA;;wBAApE,SAAoE,CAAC;;;;;KACxE;IAED;;;;OAIG;IACO,yCAAc,GAAxB,UAAyB,eAAgC;;QAGrD,IAAI,QAAiB,CAAC;QAEtB,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;YACzB,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC;SACnC;aAAM;YACH,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC;SACnC;QAED,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,KAAK,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAAE,OAAO;QAChF,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QAEhD,IAAI,KAAK,GAAG,CAAC,CAAC;;YACd,KAAgB,IAAA,SAAA,SAAA,IAAI,CAAA,0BAAA,4CAAE;gBAAjB,IAAI,GAAG,iBAAA;gBACR,IAAI,WAAW,GAAG,eAAe,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;gBAC/C,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,WAAW,CAAC,IAAI,CAAC;gBACtF,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,WAAW,CAAC,UAAU,CAAC;gBAC5F,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,WAAW,CAAC,GAAG,CAAC;gBACrF,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,WAAW,CAAC,OAAO,CAAC;gBACzF,KAAK,EAAE,CAAC;aACX;;;;;;;;;QAED,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;YACzB,IAAI,KAAK,GAAG,CAAC,EAAE;gBACX,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,uBAAa,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;aACjF;SAEJ;aAAM;YACH,IAAI,KAAK,GAAG,EAAE,EAAE;gBACZ,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,uBAAa,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;aACjF;SACJ;QAED,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;IACzC,CAAC;IAED;;;;;;;OAOG;IACK,2CAAgB,GAAxB,UAAyB,KAAa,EAAE,YAAqB;QACzD,QAAQ,KAAK,EAAE;YACX,KAAK,CAAC;gBACF,IAAI,CAAC,mBAAmB,CAAC,YAAY,EAAE,uBAAa,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAClE,OAAO,KAAK,CAAC;YACjB,KAAK,CAAC;gBACF,IAAI,CAAC,mBAAmB,CAAC,YAAY,EAAE,uBAAa,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAClE,OAAO,KAAK,CAAC;YACjB,KAAK,CAAC;gBACF,IAAI,CAAC,mBAAmB,CAAC,YAAY,EAAE,uBAAa,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAClE,OAAO,KAAK,CAAC;YACjB;gBACI,OAAO,IAAI,CAAC;SACnB;IACL,CAAC;IAED;;;;;OAKG;IACK,8CAAmB,GAA3B,UAA4B,gBAAyB,EAAE,IAAY;QAC/D,IAAI,OAAiB,CAAC;QACtB,IAAI,SAAmB,CAAC;QACxB,QAAQ,IAAI,CAAC,MAAM,EAAE;YACjB,KAAK,4BAAO,CAAC,OAAO;gBAChB,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;gBAC/B,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;gBAC5B,MAAM;YACV,KAAK,4BAAO,CAAC,QAAQ;gBACjB,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC;gBACjC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;gBAC9B,MAAM;YACV,KAAK,4BAAO,CAAC,OAAO;gBAChB,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;gBAC9B,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;gBAC3B,MAAK;YACT;gBACI,EAAE,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,MAAM,CAAC,CAAA;SAC1C;QACD,gBAAgB,CAAC,KAAK,GAAG,OAAO,CAAC;QACjC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,SAAS,CAAC;QAC/C,gBAAgB,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;IAEtE,CAAC;IAED;;OAEG;IACH,8CAAmB,GAAnB,UAAoB,UAAkB;QAElC,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;YACzB,eAAe;YACf,IAAI,UAAU,IAAI,CAAC,EAAE;gBACjB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;aACxD;iBAAM;gBACH,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;aACvD;YAED,eAAe;YACf,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG,CAAC,EAAE;gBAC/B,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;aAC5D;iBAAM;gBACH,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;aAC3D;SAEJ;aAAM;YACH,eAAe;YACf,IAAI,UAAU,IAAI,EAAE,EAAE;gBAClB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;aACxD;iBAAM;gBACH,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;aACvD;YAED,eAAe;YACf,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG,CAAC,EAAE;gBAC/B,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;aAC5D;iBAAM;gBACH,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;aAC3D;SACJ;IACL,CAAC;IAED;;;OAGG;IACO,yCAAc,GAAxB;QACI,IAAI,SAAiB,CAAC;QACtB,IAAI,QAAiB,CAAC;QACtB,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;YACzB,SAAS,GAAG,CAAC,CAAC;YACd,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC;SACnC;aAAM;YACH,SAAS,GAAG,EAAE,CAAC;YACf,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC;SACnC;QAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,EAAE,CAAC,EAAE,EAAE;YAChC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;gBACZ,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;aACjD;iBAAM;gBACH,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;aACrD;YACD,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,EAAE,CAAC;YACpE,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,EAAE,CAAC;YACpE,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,EAAE,CAAC;YACpE,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,EAAE,CAAC;YACpE,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,EAAE,CAAC;SACvE;IACL,CAAC;IAED;;;;;;OAMG;IAEO,sDAA2B,GAArC,UAAsC,KAAU,EAAE,QAAoB;QAElE,IAAI,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC;QAElE,IAAI,QAAQ,KAAK,+BAAU,CAAC,IAAI,EAAE;YAC9B,IAAI,CAAC,sBAAsB,CAAC,UAAU,CAAC,CAAC,IAAI,EAAE,CAAC;YAC/C,OAAO;SACV;QAED,IAAI,QAAQ,IAAI,+BAAU,CAAC,QAAQ,EAAE;YACjC,IAAI,CAAC,0BAA0B,CAAC,UAAU,CAAC,CAAC,IAAI,EAAE,CAAC;YACnD,OAAO;SACV;IACL,CAAC;IAED;;;OAGG;IACG,qDAA0B,GAAhC,UAAiC,UAAkB;;;;;6BAC3C,IAAI,CAAC,WAAW,CAAC,MAAM,EAAvB,wBAAuB;6BACnB,CAAA,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG,CAAC,CAAA,EAA7B,wBAA6B;wBAC7B,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC;wBACxD,iBAAQ,CAAC,WAAW,CAAC,gBAAgB,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;wBAC7D,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;wBAClE,IAAI,CAAC,cAAc,EAAE,CAAC;wBACtB,qBAAM,IAAI,CAAC,WAAW,EAAE,EAAA;;wBAAxB,SAAwB,CAAC;wBACzB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;;;;6BAG1C,CAAA,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG,CAAC,CAAA,EAA7B,wBAA6B;wBAC7B,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC;wBACxD,iBAAQ,CAAC,WAAW,CAAC,gBAAgB,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;wBAC7D,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;wBAClE,IAAI,CAAC,cAAc,EAAE,CAAC;wBACtB,qBAAM,IAAI,CAAC,WAAW,EAAE,EAAA;;wBAAxB,SAAwB,CAAC;wBACzB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;;;;;;KAGrD;IAED;;;OAGG;IACG,iDAAsB,GAA5B,UAA6B,UAAkB;;;;;6BAEvC,IAAI,CAAC,WAAW,CAAC,MAAM,EAAvB,wBAAuB;6BACnB,CAAA,UAAU,IAAI,CAAC,CAAA,EAAf,wBAAe;wBACf,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC;wBACxD,iBAAQ,CAAC,WAAW,CAAC,gBAAgB,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;wBAC7D,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;wBAClE,IAAI,CAAC,cAAc,EAAE,CAAC;wBACtB,qBAAM,IAAI,CAAC,WAAW,EAAE,EAAA;;wBAAxB,SAAwB,CAAC;wBACzB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;;;;6BAG1C,CAAA,UAAU,IAAI,EAAE,CAAA,EAAhB,wBAAgB;wBAChB,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC;wBACxD,iBAAQ,CAAC,WAAW,CAAC,gBAAgB,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;wBAC7D,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;wBAClE,IAAI,CAAC,cAAc,EAAE,CAAC;wBACtB,qBAAM,IAAI,CAAC,WAAW,EAAE,EAAA;;wBAAxB,SAAwB,CAAC;wBACzB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;;;;;;KAGrD;IAED;;;;;;OAMG;IAEO,gDAAqB,GAA/B,UAAgC,KAAK,EAAE,QAAiB;QAEpD,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QAC/C,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,CAAC,aAAa;QACrC,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAE9C,QAAQ,QAAQ,EAAE;YACd,KAAK,4BAAO,CAAC,OAAO;gBAChB,IAAI,CAAC,iBAAiB,CAAC,CAAC,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,IAAI,EAAE,CAAC;gBACvD,MAAM;YACV,KAAK,4BAAO,CAAC,QAAQ;gBACjB,IAAI,CAAC,iBAAiB,CAAC,CAAC,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,IAAI,EAAE,CAAC;gBACvD,MAAM;YACV,KAAK,4BAAO,CAAC,OAAO;gBAChB,IAAI,CAAC,iBAAiB,CAAC,EAAE,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,IAAI,EAAE,CAAC;gBACxD,MAAM;SACb;IACL,CAAC;IAED;;;;;;OAMG;IAEO,gDAAqB,GAA/B,UAAgC,KAAK,EAAE,QAAiB;QAEpD,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QAC/C,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,CAAC,aAAa;QACrC,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAE9C,QAAQ,QAAQ,EAAE;YACd,KAAK,4BAAO,CAAC,OAAO;gBAChB,IAAI,CAAC,iBAAiB,CAAC,CAAC,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,IAAI,EAAE,CAAC;gBACvD,MAAM;YACV,KAAK,4BAAO,CAAC,QAAQ;gBACjB,IAAI,CAAC,iBAAiB,CAAC,CAAC,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,IAAI,EAAE,CAAC;gBACvD,MAAM;YACV,KAAK,4BAAO,CAAC,OAAO;gBAChB,IAAI,CAAC,iBAAiB,CAAC,EAAE,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,IAAI,EAAE,CAAC;gBACxD,MAAM;SACb;IACL,CAAC;IAEO,gDAAqB,GAA7B,UAA8B,OAAgB,EAAE,MAAe;QAE3D,IAAI,IAAI,GAAY,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;QAC5C,QAAQ,OAAO,EAAE;YACb,KAAK,4BAAO,CAAC,OAAO;gBAChB,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC;oBAC9D,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,MAAM,CAAA;gBAC7D,OAAO;SACd;QACD,QAAQ,OAAO,EAAE;YACb,KAAK,4BAAO,CAAC,QAAQ;gBACjB,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC;oBAC/D,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,MAAM,CAAA;gBAC9D,OAAO;SACd;QACD,QAAQ,OAAO,EAAE;YACb,KAAK,4BAAO,CAAC,OAAO;gBAChB,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC;oBAC9D,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,MAAM,CAAA;gBAC7D,OAAO;SACd;IACL,CAAC;IAED;;;;;OAKG;IACW,4CAAiB,GAA/B,UAAgC,GAAW,EAAE,WAA2B;;;;;wBAEpE,WAAW,CAAC,GAAG,GAAG,GAAG,CAAC;wBACtB,WAAW,CAAC,IAAI,GAAG,CAAC,CAAC;wBAErB,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;4BACzB,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;yBAC7C;6BAAM;4BACH,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;yBAC7C;wBAED,iBAAQ,CAAC,WAAW,CAAC,gBAAgB,EAAE,WAAW,CAAC,CAAC;wBACpD,IAAI,CAAC,cAAc,EAAE,CAAC;wBACtB,qBAAM,IAAI,CAAC,WAAW,EAAE,EAAA;;wBAAxB,SAAwB,CAAC;wBACzB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;;;;;KAE7C;IAGD;;;OAGG;IAEO,2CAAgB,GAA1B,UAA2B,KAAK,EAAE,cAAkC;QAChE,EAAE,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QACvB,QAAQ,cAAc,EAAE;YACpB,KAAK,+BAAkB,CAAC,SAAS;gBAC7B,wBAAc,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;gBACnC,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,KAAK,CAAC;gBAChC,MAAM;YACV,KAAK,+BAAkB,CAAC,QAAQ;gBAC5B,wBAAc,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;gBACnC,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,KAAK,CAAC;gBAChC,MAAM;SACb;IAEL,CAAC;IAED;;;;OAIG;IACO,sCAAW,GAArB;QAAA,iBAyBC;QAxBG,OAAO,IAAI,OAAO,CAAO,UAAA,OAAO;YAE5B,aAAa,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;YAE1B,IAAI,KAAI,CAAC,WAAW,CAAC,MAAM,EAAE;gBACzB,KAAI,CAAC,aAAa,CAAC,MAAM,GAAG,IAAI,CAAC;gBACjC,KAAI,CAAC,aAAa,CAAC,MAAM,GAAG,KAAK,CAAC;aACrC;iBAAM;gBACH,KAAI,CAAC,aAAa,CAAC,MAAM,GAAG,IAAI,CAAC;gBACjC,KAAI,CAAC,aAAa,CAAC,MAAM,GAAG,IAAI,CAAC;aACpC;YAED,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YACzD,IAAI,YAAY,GAAW,EAAE,CAAC;YAC9B,IAAI,IAAI,GAAW,CAAC,CAAC;YACrB,KAAI,CAAC,KAAK,GAAG,MAAM,CAAC,WAAW,CAAC;gBAC5B,YAAY,IAAI,GAAG,CAAC;gBACpB,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;oBACzB,YAAY,GAAG,EAAE,CAAC;iBACrB;gBACD,KAAI,CAAC,YAAY,CAAC,YAAY,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;gBAC/C,IAAI,EAAE,CAAC;YACX,CAAC,EAAE,GAAG,CAAC,CAAC;QACZ,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;;;;;OAMG;IACK,uCAAY,GAApB,UAAqB,YAAoB,EAAE,SAAiB,EAAE,OAAoD;QAE9G,IAAI,IAAI,CAAC,UAAU,IAAI,SAAS,IAAI,IAAI,CAAC,SAAS,EAAE;YAChD,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAE1B,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;gBACzB,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,KAAK,CAAC;aACrC;iBAAM;gBACH,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,KAAK,CAAC;aACrC;YACD,OAAO,EAAE,CAAC;YACV,OAAO;SACV;QAED,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;YACzB,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,YAAY,CAAC;SAC5C;aAAM;YACH,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,YAAY,CAAC;SAC5C;IAEL,CAAC;;IArrBD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;sDACW,EAAE,oBAAF,EAAE,CAAC,MAAM;iEAAQ;IAEhD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;sDACW,EAAE,oBAAF,EAAE,CAAC,MAAM;iEAAQ;IAEhD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;sDACY,EAAE,oBAAF,EAAE,CAAC,MAAM;kEAAQ;IAEjD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;sDACY,EAAE,oBAAF,EAAE,CAAC,MAAM;kEAAQ;IAEjD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;sDACW,EAAE,oBAAF,EAAE,CAAC,MAAM;iEAAQ;IAEhD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;sDACW,EAAE,oBAAF,EAAE,CAAC,MAAM;iEAAQ;IAEhD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;sDACK,EAAE,oBAAF,EAAE,CAAC,MAAM;2DAAQ;IAE1C;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;sDACK,EAAE,oBAAF,EAAE,CAAC,MAAM;2DAAQ;IAE1C;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;sDACS,EAAE,oBAAF,EAAE,CAAC,MAAM;+DAAQ;IAE9C;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;sDACS,EAAE,oBAAF,EAAE,CAAC,MAAM;+DAAQ;IAE9C;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;sDACa,EAAE,oBAAF,EAAE,CAAC,MAAM;mEAAQ;IAElD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;sDACa,EAAE,oBAAF,EAAE,CAAC,MAAM;mEAAQ;IAGlD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;sDACK,EAAE,oBAAF,EAAE,CAAC,IAAI;yDAAQ;IAEtC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;sDACK,EAAE,oBAAF,EAAE,CAAC,IAAI;yDAAQ;IAEtC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;sDACS,EAAE,oBAAF,EAAE,CAAC,IAAI;6DAAQ;IAE1C;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;sDACS,EAAE,oBAAF,EAAE,CAAC,IAAI;6DAAQ;IAE1C;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;sDACU,EAAE,oBAAF,EAAE,CAAC,KAAK;+DAAQ;IAE7C;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;sDACU,EAAE,oBAAF,EAAE,CAAC,KAAK;+DAAQ;IAE7C;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;sDACO,EAAE,oBAAF,EAAE,CAAC,IAAI;2DAAQ;IAExC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;sDACO,EAAE,oBAAF,EAAE,CAAC,IAAI;2DAAQ;IAExC;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;sDACM,EAAE,oBAAF,EAAE,CAAC,KAAK;2DAAQ;IAEzC;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;sDACM,EAAE,oBAAF,EAAE,CAAC,KAAK;2DAAQ;IAiZzC;QADC,qBAAM,CAAC,UAAU,CAAC;;qEACyC,+BAAU,oBAAV,+BAAU;;uEAarE;IA+DD;QADC,qBAAM,CAAC,UAAU,CAAC;;qEAC8B,4BAAO,oBAAP,4BAAO;;iEAiBvD;IAUD;QADC,qBAAM,CAAC,UAAU,CAAC;;qEAC8B,4BAAO,oBAAP,4BAAO;;iEAiBvD;IAuDD;QADC,qBAAM,CAAC,UAAU,CAAC;;qEAC+B,+BAAkB,oBAAlB,+BAAkB;;4DAanE;IA3nBgB,gBAAgB;QADpC,OAAO;;OACa,gBAAgB,CA0rBpC;IAAD,uBAAC;CA1rBD,AA0rBC,CA1rB6C,qCAA2B,GA0rBxE;kBA1rBoB,gBAAgB","file":"","sourceRoot":"/","sourcesContent":["import ccclass = cc._decorator.ccclass;\r\nimport property = cc._decorator.property;\r\nimport {Effect} from \"../../Framework/Audio/AudioManager\";\r\nimport ButtonMethod from \"../../Framework/GlobalMethod/ButtonMethod\";\r\nimport {ServerEventType} from \"../../Framework/Listener/Enum/ServerEventType\";\r\nimport EventManager from \"../../Framework/Listener/EventManager\";\r\nimport {SceneDirectionType} from \"../../Framework/Scene/Enum/SceneStyle\";\r\nimport SceneDirectionChangeNotification from \"../../Framework/Scene/SceneNotification/SceneDirectionChangeNotification\";\r\nimport SceneDirectionChangeObserver from \"../../Framework/Scene/SceneObserver/SceneDirectionChangeObserver\";\r\nimport SceneManager from \"../../Framework/Scene/SceneManager\";\r\nimport {\r\n    DayType,\r\n    GameHistoryData,\r\n    PageChange\r\n} from \"../../Framework/Template/ButtonEvent/RecordButton/ARecordButtonEvent\";\r\nimport ARecordDoubleButtonTemplate from \"../../Framework/Template/ButtonEvent/RecordButton/ARecordDoubleButtonTemplate\";\r\nimport {socketJS} from \"../../Socket/Socket\";\r\nimport SocketSetting from \"../../Socket/SocketSetting\";\r\nimport MenuPageButton from \"./MenuPageButton\";\r\n\r\ninterface GetGameHistory {\r\n    Day: number,         //要拿取的紀錄天數\r\n    Page: number,        //當前在第幾頁\r\n    Quantity: number,    //每頁要獲取的資料數量\r\n}\r\n\r\ninterface GetHistoryDetail {\r\n    GameNumber: number\r\n}\r\n\r\n/**\r\n * @Author 蕭立品\r\n * @Description 說明頁按鈕監聽事件\r\n * @Date 2021-05-10 上午 11:43\r\n * @Version 1.0\r\n */\r\n@ccclass\r\nexport default class RecordPageButton extends ARecordDoubleButtonTemplate {\r\n\r\n    @property(cc.Button)\r\n    protected oneDayRecordButtonH: cc.Button = null;\r\n    @property(cc.Button)\r\n    protected oneDayRecordButtonV: cc.Button = null;\r\n    @property(cc.Button)\r\n    protected fiveDayRecordButtonH: cc.Button = null;\r\n    @property(cc.Button)\r\n    protected fiveDayRecordButtonV: cc.Button = null;\r\n    @property(cc.Button)\r\n    protected tenDayRecordButtonH: cc.Button = null;\r\n    @property(cc.Button)\r\n    protected tenDayRecordButtonV: cc.Button = null;\r\n    @property(cc.Button)\r\n    protected goBackButtonH: cc.Button = null;\r\n    @property(cc.Button)\r\n    protected goBackButtonV: cc.Button = null;\r\n    @property(cc.Button)\r\n    protected nextRecordButtonH: cc.Button = null;\r\n    @property(cc.Button)\r\n    protected nextRecordButtonV: cc.Button = null;\r\n    @property(cc.Button)\r\n    protected previousRecordButtonH: cc.Button = null;\r\n    @property(cc.Button)\r\n    protected previousRecordButtonV: cc.Button = null;\r\n    //-------------------------自訂義------------------------------\r\n    @property(cc.Node)\r\n    protected recordNodeH: cc.Node = null;\r\n    @property(cc.Node)\r\n    protected recordNodeV: cc.Node = null;\r\n    @property(cc.Node)\r\n    protected recordListViewH: cc.Node = null;\r\n    @property(cc.Node)\r\n    protected recordListViewV: cc.Node = null;\r\n    @property(cc.Label)\r\n    protected nowNumberOfPagesH: cc.Label = null;\r\n    @property(cc.Label)\r\n    protected nowNumberOfPagesV: cc.Label = null;\r\n    @property(cc.Node)\r\n    protected progressNodeH: cc.Node = null;\r\n    @property(cc.Node)\r\n    protected progressNodeV: cc.Node = null;\r\n    @property(cc.Label)\r\n    protected progressTextH: cc.Label = null;\r\n    @property(cc.Label)\r\n    protected progressTextV: cc.Label = null;\r\n\r\n    //日期存放\r\n    private readonly dateToArray: Array<number> = [1, 5, 10];\r\n    //Response server的紀錄物件\r\n    private getGameHistoryH: GetGameHistory;\r\n    //Response server的紀錄物件\r\n    private getGameHistoryV: GetGameHistory;\r\n    //Response server 祥單物件\r\n    private getHistoryDetailH: GetHistoryDetail;\r\n    //Response server 祥單物件\r\n    private getHistoryDetailV: GetHistoryDetail;\r\n\r\n    //紀錄頁使用顏色\r\n    private readonly color: { RED: cc.Color; GRAY: cc.Color; WHITE: cc.Color; BLUE: cc.Color; DARK_YELLOW: cc.Color; DARK_RED: cc.Color; BLACK: cc.Color; YELLOW: cc.Color; DARK_GRAY: cc.Color; DARK_BLUE: cc.Color };\r\n    public static instance: RecordPageButton;\r\n    private timer: number;\r\n    private delayTime: number;\r\n    private gameHistoryData: GameHistoryData;\r\n    private nowDay: DayType;\r\n\r\n    constructor() {\r\n        super();\r\n        this.color = {\r\n            DARK_BLUE: cc.color().fromHEX(\"#226565\"),\r\n            BLUE: cc.color().fromHEX(\"#30a2a2\"),\r\n            DARK_RED: cc.color().fromHEX(\"#652222\"),\r\n            RED: cc.color().fromHEX(\"#ab3a3a\"),\r\n            DARK_YELLOW: cc.color().fromHEX(\"#684e33\"),\r\n            YELLOW: cc.color().fromHEX(\"#cf9457\"),\r\n            BLACK: cc.color().fromHEX(\"#1E1E1E\"),\r\n            DARK_GRAY: cc.color().fromHEX(\"#313131\"),\r\n            GRAY: cc.color().fromHEX(\"#777777\"),\r\n            WHITE: cc.color().fromHEX(\"#FFFFFF\"),\r\n        };\r\n    }\r\n\r\n    protected onCreate() {\r\n        RecordPageButton.instance = this;\r\n        this.showDetailEventListener();                                                     //顯示祥單監聽器\r\n        this.addListViewItemTouchEventListener();                                           //ListView 內的Item 按鈕監聽\r\n\r\n        SceneDirectionChangeNotification\r\n            .instance.subscribe(this.sceneDirectionObserverListener(), true);     //註冊直橫式監聽\r\n\r\n        this.initialize();                                                                  //初始化\r\n    }\r\n\r\n    /**\r\n     * 初始紀錄頁按鈕\r\n     * @private\r\n     */\r\n    private initialize() {\r\n\r\n        //初始更換日期紀錄按鈕外框,1日按鈕外框默認開啟,其他關閉\r\n        this.oneDayRecordButtonH.node.children[0].active = true;\r\n        this.oneDayRecordButtonV.node.children[0].active = true;\r\n        this.fiveDayRecordButtonH.node.children[0].active = false;\r\n        this.fiveDayRecordButtonV.node.children[0].active = false;\r\n        this.tenDayRecordButtonH.node.children[0].active = false;\r\n        this.tenDayRecordButtonV.node.children[0].active = false;\r\n        this.nowDay = DayType.ONE_DAY;\r\n        this.nowNumberOfPagesH.string = String(1);\r\n        this.nowNumberOfPagesV.string = String(1);\r\n\r\n        this.removeRecordUI();\r\n\r\n        //初始要回傳server拿取紀錄json的資料\r\n        this.getGameHistoryH = {\r\n            Day: this.dateToArray[0],\r\n            Page: 1,\r\n            Quantity: 8,\r\n        }\r\n\r\n        this.getGameHistoryV = {\r\n            Day: this.dateToArray[0],\r\n            Page: 1,\r\n            Quantity: 10,\r\n        }\r\n\r\n        this.getHistoryDetailH = {\r\n            GameNumber: 0,\r\n        }\r\n\r\n\r\n        this.getHistoryDetailV = {\r\n            GameNumber: 0,\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 添加ListView 按鈕 監聽事件\r\n     */\r\n    private addListViewItemTouchEventListener() {\r\n\r\n        let listViewItemsH = this.recordListViewH.children;\r\n        let listViewItemsV = this.recordListViewV.children;\r\n\r\n        let indexH = 0;\r\n        for (let node of listViewItemsH) {\r\n            let button = node.getComponent(cc.Button);\r\n            ButtonMethod.addButtonEvent(button, \"listViewItemTouchEventH\", this, indexH);\r\n            indexH++;\r\n        }\r\n\r\n        let indexV = 0;\r\n        for (let node of listViewItemsV) {\r\n            let button = node.getComponent(cc.Button);\r\n            ButtonMethod.addButtonEvent(button, \"listViewItemTouchEventV\", this, indexV);\r\n            indexV++;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 橫式 listViewItem 監聽用戶點及哪顆Item 回傳sever顯示祥單\r\n     * @param event\r\n     * @param callBack\r\n     * @private\r\n     */\r\n    private listViewItemTouchEventH(event, callBack) {\r\n        let historyKeys: string[];\r\n\r\n        try {\r\n            historyKeys = Object.keys(this.gameHistoryData.History);\r\n            if (historyKeys.length < callBack) return;\r\n            this.getHistoryDetailH.GameNumber = this.gameHistoryData.History[historyKeys[callBack]].GameNumber;\r\n            socketJS.SFSToServer(\"GetHistoryDetail\", this.getHistoryDetailH);\r\n        } catch (e) {\r\n            cc.log(e);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 直式 listViewItem 監聽用戶點及哪顆Item 回傳sever顯示祥單\r\n     * @param event\r\n     * @param callBack\r\n     * @private\r\n     */\r\n    private listViewItemTouchEventV(event, callBack: number) {\r\n        let historyKeys: string[];\r\n        try {\r\n            historyKeys = Object.keys(this.gameHistoryData.History);\r\n            if (historyKeys.length < callBack) return;\r\n            this.getHistoryDetailV.GameNumber = this.gameHistoryData.History[historyKeys[callBack]].GameNumber;\r\n            socketJS.SFSToServer(\"GetHistoryDetail\", this.getHistoryDetailV);\r\n        } catch (e) {\r\n            cc.log(e);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 顯示祥單頁面監聽器\r\n     */\r\n    showDetailEventListener() {\r\n\r\n        EventManager.instance.serverEventListener(ServerEventType.GET_HISTORY_DETAIL_RESULT, (historyDetail) => {\r\n\r\n            cc[\"plug\"].Record.createPageDetail(historyDetail);\r\n\r\n        }, false)\r\n    }\r\n\r\n    /**\r\n     * 直橫向監聽器\r\n     */\r\n    private sceneDirectionObserverListener(): SceneDirectionChangeObserver {\r\n        return new SceneDirectionChangeObserver((type) => {\r\n            if (!this.recordNodeH.active && !this.recordNodeV.active) return;\r\n            this.checkSceneDirection(type).then();\r\n        }, this);\r\n    }\r\n\r\n    /**\r\n     * 確認當前直橫式下,做相對應的開啟該樣式的節點\r\n     * @param {SceneDirectionType} type\r\n     * @private\r\n     */\r\n    private async checkSceneDirection(type: SceneDirectionType) {\r\n\r\n        if (type == SceneDirectionType.LANDSCAPE) {\r\n\r\n            this.recordNodeH.active = true;\r\n            this.recordNodeV.active = false;\r\n            this.getGameHistoryH.Page = 1;//如果有更換 螢幕方向,將把 頁數也初始\r\n            this.nowNumberOfPagesH.string = String(1);\r\n            await this.getRecordData(this.getGameHistoryH);\r\n\r\n        } else if (type == SceneDirectionType.PORTRAIT) {\r\n\r\n            this.recordNodeH.active = false;\r\n            this.recordNodeV.active = true;\r\n            this.getGameHistoryV.Page = 1;//如果有更換 螢幕方向,將把 頁數也初始\r\n            this.nowNumberOfPagesV.string = String(1);\r\n            await this.getRecordData(this.getGameHistoryV);\r\n\r\n        } else {\r\n            cc.log(`MainGameSetting sceneDirectionEvent() 有錯誤 : ${type}`);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 拿取Record資料,並更新UI\r\n     * @param {GetGameHistory} getGameHistory\r\n     * @returns {Promise<void>}\r\n     */\r\n    async getRecordData(getGameHistory: GetGameHistory) {\r\n        socketJS.SFSToServer(\"GetGameHistory\", getGameHistory);\r\n        this.removeRecordUI();\r\n        await this.runProgress();\r\n        this.updateRecordUI(this.gameHistoryData);\r\n    }\r\n\r\n    /**\r\n     * 監聽器由抽象類實現\r\n     * server 回傳祥單接收器\r\n     * @param gameHistoryData\r\n     * @protected\r\n     */\r\n    protected gameHistoryResultEvent(gameHistoryData: GameHistoryData) {\r\n        this.gameHistoryData = gameHistoryData;\r\n    }\r\n\r\n    public async showRecordPage() {\r\n        //初始將當前用戶匹配的active 打開\r\n        this.initialize();\r\n        await this.checkSceneDirection(SceneManager.instance.sceneDirection);\r\n    }\r\n\r\n    /**\r\n     * 更新詳單ListView\r\n     * @param {GameHistoryData} gameHistoryData\r\n     * @protected\r\n     */\r\n    protected updateRecordUI(gameHistoryData: GameHistoryData) {\r\n\r\n\r\n        let listView: cc.Node;\r\n\r\n        if (this.recordNodeH.active) {\r\n            listView = this.recordListViewH;\r\n        } else {\r\n            listView = this.recordListViewV;\r\n        }\r\n\r\n        if (!this.checkServerState(gameHistoryData.State, listView.children[0])) return;\r\n        let keys = Object.keys(gameHistoryData.History);\r\n\r\n        let index = 0;\r\n        for (let key of keys) {\r\n            let historyData = gameHistoryData.History[key];\r\n            listView.children[index].children[0].getComponent(cc.Label).string = historyData.Time;\r\n            listView.children[index].children[1].getComponent(cc.Label).string = historyData.GameNumber;\r\n            listView.children[index].children[2].getComponent(cc.Label).string = historyData.Bet;\r\n            listView.children[index].children[3].getComponent(cc.Label).string = historyData.WinLose;\r\n            index++;\r\n        }\r\n\r\n        if (this.recordNodeH.active) {\r\n            if (index < 8) {\r\n                this.updateNullDataState(listView.children[index], SocketSetting.t(\"S_9073\"));\r\n            }\r\n\r\n        } else {\r\n            if (index < 10) {\r\n                this.updateNullDataState(listView.children[index], SocketSetting.t(\"S_9073\"));\r\n            }\r\n        }\r\n\r\n        this.updatePageChangeImg(keys.length)\r\n    }\r\n\r\n    /**\r\n     * 確認當前回傳的json 狀態是否不等於0\r\n     * 大於0狀態異常\r\n     * @param {number} state\r\n     * @param {cc.Node} listViewItem\r\n     * @returns {boolean}\r\n     * @private\r\n     */\r\n    private checkServerState(state: number, listViewItem: cc.Node): boolean {\r\n        switch (state) {\r\n            case 1 :\r\n                this.updateNullDataState(listViewItem, SocketSetting.t(\"S_9073\"));\r\n                return false;\r\n            case 2 :\r\n                this.updateNullDataState(listViewItem, SocketSetting.t(\"S_9074\"));\r\n                return false;\r\n            case 3 :\r\n                this.updateNullDataState(listViewItem, SocketSetting.t(\"S_9075\"));\r\n                return false;\r\n            default:\r\n                return true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 當無資料時,更新無資料訊息\r\n     * @param {cc.Node} listViewItemNode\r\n     * @param {string} text\r\n     * @private\r\n     */\r\n    private updateNullDataState(listViewItemNode: cc.Node, text: string) {\r\n        let colorBg: cc.Color;\r\n        let colorText: cc.Color;\r\n        switch (this.nowDay) {\r\n            case DayType.ONE_DAY:\r\n                colorBg = this.color.DARK_BLUE;\r\n                colorText = this.color.BLUE;\r\n                break;\r\n            case DayType.FIVE_DAY:\r\n                colorBg = this.color.DARK_YELLOW;\r\n                colorText = this.color.YELLOW;\r\n                break;\r\n            case DayType.TEN_DAY:\r\n                colorBg = this.color.DARK_RED;\r\n                colorText = this.color.RED;\r\n                break\r\n            default:\r\n                cc.log('拿不到當前用戶選擇的日期', this.nowDay)\r\n        }\r\n        listViewItemNode.color = colorBg;\r\n        listViewItemNode.children[4].color = colorText;\r\n        listViewItemNode.children[4].getComponent(cc.Label).string = text;\r\n\r\n    }\r\n\r\n    /**\r\n     * 更新換頁按鈕顏色\r\n     */\r\n    updatePageChangeImg(dataAmount: number) {\r\n\r\n        if (this.recordNodeH.active) {\r\n            //確認能否更動下一頁按鈕樣式\r\n            if (dataAmount >= 8) {\r\n                this.nextRecordButtonH.node.color = this.color.WHITE;\r\n            } else {\r\n                this.nextRecordButtonH.node.color = this.color.GRAY;\r\n            }\r\n\r\n            //確認能否更動上一頁按鈕樣式\r\n            if (this.getGameHistoryH.Page > 1) {\r\n                this.previousRecordButtonH.node.color = this.color.WHITE;\r\n            } else {\r\n                this.previousRecordButtonH.node.color = this.color.GRAY;\r\n            }\r\n\r\n        } else {\r\n            //確認能否更動下一頁按鈕樣式\r\n            if (dataAmount >= 10) {\r\n                this.nextRecordButtonV.node.color = this.color.WHITE;\r\n            } else {\r\n                this.nextRecordButtonV.node.color = this.color.GRAY;\r\n            }\r\n\r\n            //確認能否更動上一頁按鈕樣式\r\n            if (this.getGameHistoryV.Page > 1) {\r\n                this.previousRecordButtonV.node.color = this.color.WHITE;\r\n            } else {\r\n                this.previousRecordButtonV.node.color = this.color.GRAY;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 清除詳單ListView內的欄位資訊\r\n     * @protected\r\n     */\r\n    protected removeRecordUI() {\r\n        let removeEnd: number;\r\n        let listView: cc.Node;\r\n        if (this.recordNodeH.active) {\r\n            removeEnd = 8;\r\n            listView = this.recordListViewH;\r\n        } else {\r\n            removeEnd = 10;\r\n            listView = this.recordListViewV;\r\n        }\r\n\r\n        for (let i = 0; i < removeEnd; i++) {\r\n            if (i % 2 == 0) {\r\n                listView.children[i].color = this.color.BLACK;\r\n            } else {\r\n                listView.children[i].color = this.color.DARK_GRAY;\r\n            }\r\n            listView.children[i].children[0].getComponent(cc.Label).string = \"\";\r\n            listView.children[i].children[1].getComponent(cc.Label).string = \"\";\r\n            listView.children[i].children[2].getComponent(cc.Label).string = \"\";\r\n            listView.children[i].children[3].getComponent(cc.Label).string = \"\";\r\n            listView.children[i].children[4].getComponent(cc.Label).string = \"\";\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 監聽已經由抽象類實作\r\n     * 更換詳單的上一頁與下一頁按鈕事件\r\n     * @param event\r\n     * @param {PageChange} callBack\r\n     * @protected\r\n     */\r\n    @Effect(\"BtnClick\")\r\n    protected nextAndLastButtonTouchEvent(event: any, callBack: PageChange) {\r\n\r\n        let dataLength = Object.keys(this.gameHistoryData.History).length;\r\n\r\n        if (callBack === PageChange.NEXT) {\r\n            this.checkCanNextPageChange(dataLength).then();\r\n            return;\r\n        }\r\n\r\n        if (callBack == PageChange.PREVIOUS) {\r\n            this.checkCanPreviousPageChange(dataLength).then();\r\n            return;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 確認能否上一頁\r\n     * @param {number} dataAmount\r\n     */\r\n    async checkCanPreviousPageChange(dataAmount: number) {\r\n        if (this.recordNodeH.active) {\r\n            if (this.getGameHistoryH.Page > 1) {\r\n                this.getGameHistoryH.Page = --this.getGameHistoryH.Page;\r\n                socketJS.SFSToServer(\"GetGameHistory\", this.getGameHistoryH);\r\n                this.nowNumberOfPagesH.string = String(this.getGameHistoryH.Page);\r\n                this.removeRecordUI();\r\n                await this.runProgress();\r\n                this.updateRecordUI(this.gameHistoryData);\r\n            }\r\n        } else {\r\n            if (this.getGameHistoryV.Page > 1) {\r\n                this.getGameHistoryV.Page = --this.getGameHistoryV.Page;\r\n                socketJS.SFSToServer(\"GetGameHistory\", this.getGameHistoryV);\r\n                this.nowNumberOfPagesV.string = String(this.getGameHistoryV.Page);\r\n                this.removeRecordUI();\r\n                await this.runProgress();\r\n                this.updateRecordUI(this.gameHistoryData);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 確認能否下一頁\r\n     * @param {number} dataAmount\r\n     */\r\n    async checkCanNextPageChange(dataAmount: number) {\r\n\r\n        if (this.recordNodeH.active) {\r\n            if (dataAmount == 8) {\r\n                this.getGameHistoryH.Page = ++this.getGameHistoryH.Page;\r\n                socketJS.SFSToServer(\"GetGameHistory\", this.getGameHistoryH);\r\n                this.nowNumberOfPagesH.string = String(this.getGameHistoryH.Page);\r\n                this.removeRecordUI();\r\n                await this.runProgress();\r\n                this.updateRecordUI(this.gameHistoryData);\r\n            }\r\n        } else {\r\n            if (dataAmount == 10) {\r\n                this.getGameHistoryV.Page = ++this.getGameHistoryV.Page;\r\n                socketJS.SFSToServer(\"GetGameHistory\", this.getGameHistoryV);\r\n                this.nowNumberOfPagesV.string = String(this.getGameHistoryV.Page);\r\n                this.removeRecordUI();\r\n                await this.runProgress();\r\n                this.updateRecordUI(this.gameHistoryData);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 監聽事件已由抽象類實作\r\n     * 橫向按鈕中各日期選擇,對應該詳單需顯示的頁數\r\n     * @param event\r\n     * @param {DayType} callBack\r\n     * @protected\r\n     */\r\n    @Effect(\"BtnClick\")\r\n    protected daysRecordTouchEventH(event, callBack: DayType) {\r\n\r\n        this.updateDayButtonBorder(this.nowDay, false);\r\n        this.nowDay = callBack; //保存當前搜尋日期的按鈕\r\n        this.updateDayButtonBorder(this.nowDay, true);\r\n\r\n        switch (callBack) {\r\n            case DayType.ONE_DAY:\r\n                this.checkDaysToServer(1, this.getGameHistoryH).then();\r\n                break;\r\n            case DayType.FIVE_DAY:\r\n                this.checkDaysToServer(5, this.getGameHistoryH).then();\r\n                break;\r\n            case DayType.TEN_DAY:\r\n                this.checkDaysToServer(10, this.getGameHistoryH).then();\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 監聽事件已由抽象類實作\r\n     * 直向按鈕中各日期選擇,對應該詳單需顯示的頁數\r\n     * @param event\r\n     * @param {DayType} callBack\r\n     * @protected\r\n     */\r\n    @Effect(\"BtnClick\")\r\n    protected daysRecordTouchEventV(event, callBack: DayType) {\r\n\r\n        this.updateDayButtonBorder(this.nowDay, false);\r\n        this.nowDay = callBack; //保存當前搜尋日期的按鈕\r\n        this.updateDayButtonBorder(this.nowDay, true);\r\n\r\n        switch (callBack) {\r\n            case DayType.ONE_DAY:\r\n                this.checkDaysToServer(1, this.getGameHistoryV).then();\r\n                break;\r\n            case DayType.FIVE_DAY:\r\n                this.checkDaysToServer(5, this.getGameHistoryV).then();\r\n                break;\r\n            case DayType.TEN_DAY:\r\n                this.checkDaysToServer(10, this.getGameHistoryV).then();\r\n                break;\r\n        }\r\n    }\r\n\r\n    private updateDayButtonBorder(dayType: DayType, isShow: boolean) {\r\n\r\n        let hOrV: boolean = this.recordNodeH.active;\r\n        switch (dayType) {\r\n            case DayType.ONE_DAY:\r\n                hOrV ? this.oneDayRecordButtonH.node.children[0].active = isShow :\r\n                    this.oneDayRecordButtonV.node.children[0].active = isShow\r\n                return;\r\n        }\r\n        switch (dayType) {\r\n            case DayType.FIVE_DAY:\r\n                hOrV ? this.fiveDayRecordButtonH.node.children[0].active = isShow :\r\n                    this.fiveDayRecordButtonV.node.children[0].active = isShow\r\n                return;\r\n        }\r\n        switch (dayType) {\r\n            case DayType.TEN_DAY:\r\n                hOrV ? this.tenDayRecordButtonH.node.children[0].active = isShow :\r\n                    this.tenDayRecordButtonV.node.children[0].active = isShow\r\n                return;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 依照對應的日期,做相對應的回傳 server\r\n     * @param {number} day\r\n     * @param {GetGameHistory} gameHistory\r\n     * @private\r\n     */\r\n    private async checkDaysToServer(day: number, gameHistory: GetGameHistory) {\r\n\r\n        gameHistory.Day = day;\r\n        gameHistory.Page = 1;\r\n\r\n        if (this.recordNodeH.active) {\r\n            this.nowNumberOfPagesH.string = String(1);\r\n        } else {\r\n            this.nowNumberOfPagesV.string = String(1);\r\n        }\r\n\r\n        socketJS.SFSToServer(\"GetGameHistory\", gameHistory);\r\n        this.removeRecordUI();\r\n        await this.runProgress();\r\n        this.updateRecordUI(this.gameHistoryData);\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 返回 setting 頁面\r\n     * @protected\r\n     */\r\n    @Effect(\"BtnClick\")\r\n    protected goBackTouchEvent(event, sceneDirection: SceneDirectionType) {\r\n        cc.log(sceneDirection);\r\n        switch (sceneDirection) {\r\n            case SceneDirectionType.LANDSCAPE:\r\n                MenuPageButton.instance.showMenu();\r\n                this.recordNodeH.active = false;\r\n                break;\r\n            case SceneDirectionType.PORTRAIT:\r\n                MenuPageButton.instance.showMenu();\r\n                this.recordNodeV.active = false;\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * 執行讀取條\r\n     * @returns {Promise<void>}\r\n     * @protected\r\n     */\r\n    protected runProgress(): Promise<void> {\r\n        return new Promise<void>(resolve => {\r\n\r\n            clearInterval(this.timer);\r\n\r\n            if (this.recordNodeH.active) {\r\n                this.progressNodeH.active = true;\r\n                this.progressNodeV.active = false;\r\n            } else {\r\n                this.progressNodeH.active = true;\r\n                this.progressNodeV.active = true;\r\n            }\r\n\r\n            this.delayTime = Math.floor(Math.random() * (8 - 4)) + 4;\r\n            let progressText: string = \"\";\r\n            let time: number = 0;\r\n            this.timer = window.setInterval(() => {\r\n                progressText += \".\";\r\n                if (progressText.length > 3) {\r\n                    progressText = \"\";\r\n                }\r\n                this.makeProgress(progressText, time, resolve);\r\n                time++;\r\n            }, 200);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 讀取條事件,抽離UI操作\r\n     * @param {string} progressText\r\n     * @param {number} delayTime\r\n     * @param {(value: (PromiseLike<void> | void)) => void} resolve\r\n     * @private\r\n     */\r\n    private makeProgress(progressText: string, delayTime: number, resolve: (value: (PromiseLike<void> | void)) => void) {\r\n\r\n        if (this.isResultOK && delayTime >= this.delayTime) {\r\n            clearInterval(this.timer);\r\n\r\n            if (this.recordNodeH.active) {\r\n                this.progressNodeH.active = false;\r\n            } else {\r\n                this.progressNodeV.active = false;\r\n            }\r\n            resolve();\r\n            return;\r\n        }\r\n\r\n        if (this.recordNodeH.active) {\r\n            this.progressTextH.string = progressText;\r\n        } else {\r\n            this.progressTextV.string = progressText;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n"]}