{"version":3,"sources":["assets\\script\\Framework\\Scene\\SceneSizeChangeListener.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,iEAA2D;AAC3D,+CAAyC;AAEzC;IAAA;QAEI,UAAU;QACF,sBAAiB,GAAa,IAAI,CAAC;IAgC/C,CAAC;IA9BG;;;OAGG;IACH,0DAAwB,GAAxB,UAAyB,SAAkB;QAA3C,iBAKC;QAJG,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,eAAe,EAAE;;;4BACxB,qBAAM,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,EAAA;;wBAArC,SAAqC,CAAC;wBACtC,EAAE,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;;;;aAC1B,CAAC,CAAA;IACN,CAAC;IAED;;;OAGG;IACK,iDAAe,GAAvB,UAAwB,IAAa;QAArC,iBAcC;QAbG,OAAO,IAAI,OAAO,CAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YACtC,IAAG,KAAI,CAAC,iBAAiB,EAAE;gBACvB,KAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;gBAC/B,UAAU,CAAC;oBACP,sBAAY,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC;oBACnC,KAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;oBAC9B,OAAO,EAAE,CAAC;gBACd,CAAC,EAAE,IAAI,CAAC,CAAC;aACZ;iBAAM;gBACH,IAAG,2BAAiB,CAAC,QAAQ,CAAC,gBAAgB;oBAC1C,MAAM,CAAC,0BAA0B,CAAC,CAAC;aAC1C;QACL,CAAC,CAAC,CAAC,CAAA;IACP,CAAC;IACL,8BAAC;AAAD,CAnCA,AAmCC,IAAA","file":"","sourceRoot":"/","sourcesContent":["import SlotConfigManager from '../Config/SlotConfigManager'\r\nimport SceneManager from './SceneManager'\r\n\r\nexport default class SceneSizeChangeListener {\r\n    \r\n    //是否可以更新畫面\r\n    private _isCanUpdateScene : boolean = true;\r\n\r\n    /**\r\n     * 監聽是否要更動scene寬高\r\n     * @param {number}delayTime:更新頻率\r\n     */\r\n    designSceneEventListener(delayTime : number) {\r\n        cc.view.on(\"canvas-resize\", async () => {\r\n            await this.makeDesignScene(delayTime);\r\n            cc.log(\"更新畫面完畢......\");\r\n        })\r\n    }\r\n    \r\n    /**\r\n     * 依照designSceneEventListener()參數中的delay時間,更新cavers\r\n     * @param time\r\n     */\r\n    private makeDesignScene(time : number) : Promise<void> {\r\n        return new Promise<void>(((resolve, reject) => {\r\n            if(this._isCanUpdateScene) {\r\n                this._isCanUpdateScene = false;\r\n                setTimeout(() => {\r\n                    SceneManager.instance.updateSize();\r\n                    this._isCanUpdateScene = true;\r\n                    resolve();\r\n                }, time);\r\n            } else {\r\n                if(SlotConfigManager.instance.isFrameworkDebug)\r\n                    reject(\"正在UpdateScene中 請稍後......\");\r\n            }\r\n        }))\r\n    }\r\n}"]}