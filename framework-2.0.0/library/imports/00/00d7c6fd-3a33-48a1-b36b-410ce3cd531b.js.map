{"version":3,"sources":["assets\\script\\MainGameScript\\LabelEvent\\MainGameLabel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import {Effect} from '../../Framework/Audio/AudioManager'\r\nimport LanguageMethod from \"../../Framework/GlobalMethod/LanguageMethod\";\r\nimport {ServerEventType} from '../../Framework/Listener/Enum/ServerEventType'\r\nimport EventManager from '../../Framework/Listener/EventManager'\r\nimport {GameState} from '../../Framework/Process/Enum/GameState'\r\nimport UserMoneyChangeNotification from \"../../Framework/Process/GameNotification/UserMoneyChangeNotification\";\r\nimport UserTotalBetChangeNotification from \"../../Framework/Process/GameNotification/UserTotalBetChangeNotification\";\r\nimport UserWinPointStateNotification from \"../../Framework/Process/GameNotification/UserWinPointStateNotification\";\r\nimport UserMoneyChangeObserver from \"../../Framework/Process/GameObserver/UserMoenyChangeObserver\";\r\nimport UserTotalBetChangeObserver from \"../../Framework/Process/GameObserver/UserTotalBetChangeObserver\";\r\nimport UserWinPointStateObserver from \"../../Framework/Process/GameObserver/UserWinPointStateObserver\";\r\nimport SlotGameManager from '../../Framework/Process/SlotGameManager'\r\nimport AGenericTemplate from '../../Framework/Template/AGenericTemplate'\r\nimport {ResponseType} from \"../../Framework/WebResponse/Enum/ResponseType\";\r\nimport NoLineFreeResult from \"../../Framework/WebResponse/SeverDataModel/FreeResult/NoLineFreeResult\";\r\nimport NoLineTableInfo from \"../../Framework/WebResponse/SeverDataModel/TableInfo/NoLineTableInfo\";\r\nimport {WebResponseManager} from '../../Framework/WebResponse/WebResponseManager'\r\nimport SocketSetting from '../../Socket/SocketSetting'\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class MainGameLabel extends AGenericTemplate {\r\n\r\n    @property(cc.Label)\r\n    private userMoneyLabelH: cc.Label = null;\r\n    @property(cc.Label)\r\n    private userMoneyLabelV: cc.Label = null;\r\n    @property(cc.Label)\r\n    private gameLineLabelH: cc.Label = null;\r\n    @property(cc.Label)\r\n    private gameLineLabelV: cc.Label = null;\r\n    @property(cc.Label)\r\n    private gameLineTextH: cc.Label = null;\r\n    @property(cc.Label)\r\n    private gameLineTextV: cc.Label = null;\r\n    @property(cc.Label)\r\n    private userTotalBetLabelH: cc.Label = null;\r\n    @property(cc.Label)\r\n    private userTotalBetTextH: cc.Label = null;\r\n    @property(cc.Label)\r\n    private userTotalBetLabelV: cc.Label = null;\r\n    @property(cc.Label)\r\n    private userTotalBetTextV: cc.Label = null;\r\n    @property(cc.Label)\r\n    private winPointLabelH: cc.Label = null;\r\n    @property(cc.Label)\r\n    private winPointTextH: cc.Label = null;\r\n    @property(cc.Label)\r\n    private winPointLabelV: cc.Label = null;\r\n    @property(cc.Label)\r\n    private winPointTextV: cc.Label = null;\r\n    @property(cc.Label)\r\n    private winPoint: cc.Label = null;\r\n    @property(cc.Label)\r\n    private groupIDH: cc.Label = null;\r\n    @property(cc.Label)\r\n    private groupIDV: cc.Label = null;\r\n    @property(cc.Node)\r\n    private freeTitle: cc.Node = null;\r\n    @property(cc.Label)\r\n    private freeCount: cc.Label = null;\r\n    private tableInfo: NoLineTableInfo;\r\n    private freeResult:NoLineFreeResult;\r\n    public static instance: MainGameLabel;\r\n\r\n\r\n    protected onCreate() {\r\n        MainGameLabel.instance = this;\r\n        this.tableInfo =\r\n            WebResponseManager\r\n                .instance<NoLineTableInfo>()\r\n                .getResult(ResponseType.TABLE_INFO);\r\n        this.freeResult =\r\n            WebResponseManager\r\n                .instance<NoLineFreeResult>()\r\n                .getResult(ResponseType.FREE);\r\n        //初始free標題\r\n        this.freeCount.string = \"\";\r\n        this.freeTitle.active = false;\r\n\r\n        //初始:單局識別號\r\n        let groupIDNum = SocketSetting.ServerReturnData[\"GroupID\"].GroupID;\r\n        this.groupIDH.string = groupIDNum;\r\n        this.groupIDV.string = groupIDNum;\r\n\r\n        //初始獲獎欄位\r\n        this.winPoint.string = \"\";\r\n        this.winPoint.node.active = false;\r\n\r\n        //初始手動更新該遊戲線數:無線遊戲無從計算(寫死)\r\n        this.gameLineLabelH.string = \"243\";\r\n        this.gameLineLabelV.string = \"243\";\r\n\r\n        //初始化 userConfig設定的初始user下注金額\r\n        this.userTotalBetLabelH.string =\r\n            String(this.tableInfo.LineTotalBet[SlotGameManager.instance.userBetPoint.LineBet]);\r\n        this.userTotalBetLabelV.string =\r\n            String(this.tableInfo.LineTotalBet[SlotGameManager.instance.userBetPoint.LineBet]);\r\n\r\n        //初始更新user 金額,接收tableInfo參數時,尚未實例化該類,因此初始更新USER MONEY 失效\r\n        let numberFormat = new Intl.NumberFormat().format(SlotGameManager.instance.userMoney);\r\n        this.userMoneyLabelV.string = String(numberFormat);\r\n        this.userMoneyLabelH.string = String(numberFormat);\r\n\r\n        //初始將贏分欄位清空\r\n        this.winPointLabelH.string = \"\";\r\n        this.winPointLabelV.string = \"\";\r\n\r\n        //訂閱推播事件\r\n        UserMoneyChangeNotification                                                     //更新user金額時 訂閱事件\r\n            .instance.subscribe(this.getUserMoneyChangeObserver(), true);\r\n        UserTotalBetChangeNotification\r\n            .instance.subscribe(this.getUserTotalBetChangeObserver(), true);\r\n        UserWinPointStateNotification                                                   //獲獎時 訂閱事件\r\n            .instance.subscribe(this.getUserWinPointStateObserver(), true);\r\n        this.updateGroupIDEventListener();                                              //GroupID 監聽變更\r\n\r\n    }\r\n\r\n    /**\r\n     * 更新語系\r\n     */\r\n    protected languageSetting() {\r\n\r\n        this.gameLineTextH.string = SocketSetting.t(\"4_008\");\r\n        this.gameLineTextV.string = SocketSetting.t(\"4_008\");\r\n        this.userTotalBetTextH.string = SocketSetting.t(\"4_002\");\r\n        this.userTotalBetTextV.string = SocketSetting.t(\"4_002\");\r\n        this.winPointTextH.string = SocketSetting.t(\"4_004\");\r\n        this.winPointTextV.string = SocketSetting.t(\"4_004\");\r\n\r\n        LanguageMethod.instance\r\n            .updateLabelStyle(this.gameLineTextH)\r\n            .updateLabelStyle(this.gameLineTextV)\r\n            .updateLabelStyle(this.userTotalBetTextH)\r\n            .updateLabelStyle(this.userTotalBetTextV)\r\n            .updateLabelStyle(this.winPointTextH)\r\n            .updateLabelStyle(this.winPointTextV);\r\n    }\r\n\r\n    private updateGroupIDEventListener() {\r\n        EventManager.instance.serverEventListener(ServerEventType.GROUP_ID, (groupID: string) => {\r\n            this.groupIDV.string = groupID;\r\n            this.groupIDH.string = groupID;\r\n        }, false);\r\n    }\r\n\r\n    private getUserTotalBetChangeObserver(): UserTotalBetChangeObserver {\r\n        return new UserTotalBetChangeObserver((beforeIndex, afterIndex) => {\r\n            this.userTotalBetLabelAnimation(this.userTotalBetLabelV.node);\r\n            this.userTotalBetLabelAnimation(this.userTotalBetLabelH.node);\r\n            this.userTotalBetLabelV.string = String(this.tableInfo.LineTotalBet[afterIndex]);\r\n            this.userTotalBetLabelH.string = String(this.tableInfo.LineTotalBet[afterIndex]);\r\n        }, this);\r\n    }\r\n\r\n    private userTotalBetLabelAnimation(node: cc.Node): void {\r\n        cc.tween(node)\r\n            .to(0.3, {scale: 0})\r\n            .to(0.4, {scale: 1}, {easing: \"bounceOut\"})\r\n            .start();\r\n    }\r\n\r\n    private getUserWinPointStateObserver(): UserWinPointStateObserver {\r\n        return new UserWinPointStateObserver((winPoint, level) => {\r\n            let numberFormat = new Intl.NumberFormat().format(winPoint);\r\n            this.winPointLabelV.string = String(numberFormat);\r\n            this.winPointLabelH.string = String(numberFormat);\r\n            if (SlotGameManager.instance.gameState == GameState.FREEING && level == 0) {\r\n                winPoint = this.freeResult.TotalWinPoint;\r\n                this.winEvent(winPoint);\r\n                return;\r\n            }\r\n            if (level == 0) {\r\n                this.winEvent(winPoint);\r\n            }\r\n        }, this)\r\n    }\r\n\r\n    @Effect(\"WinSingleLine\")\r\n    private winEvent(winPoint: number) {\r\n        this.winPoint.node.active = true;\r\n        this.winPoint.string = String(winPoint);\r\n\r\n        setTimeout(() => {\r\n            this.winPoint.string = \"\";\r\n            this.winPoint.node.active = false;\r\n        }, 900);\r\n    }\r\n\r\n    private getUserMoneyChangeObserver(): UserMoneyChangeObserver {\r\n        return new UserMoneyChangeObserver((money) => {\r\n            let numberFormat = new Intl.NumberFormat().format(money);\r\n            this.userMoneyLabelH.string = String(numberFormat);\r\n            this.userMoneyLabelV.string = String(numberFormat);\r\n        }, this);\r\n    }\r\n\r\n    /**\r\n     * 清除狀態上一輪狀態\r\n     */\r\n    public remove() {\r\n\r\n        this.winPointLabelV.string = \"\";\r\n        this.winPointLabelH.string = \"\";\r\n\r\n    }\r\n\r\n    public closeFreeTitle() {\r\n        this.freeCount.string = \"\";\r\n        if (this.freeTitle.active) {\r\n            this.freeTitle.active = false;\r\n        }\r\n    }\r\n\r\n    public updateFreeTitle(count: number) {\r\n\r\n        if (!this.freeTitle.active) {\r\n            this.freeTitle.active = true;\r\n        }\r\n        this.freeCount.string = String(count);\r\n\r\n    }\r\n\r\n}\r\n"]}