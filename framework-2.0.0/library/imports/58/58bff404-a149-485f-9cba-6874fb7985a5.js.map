{"version":3,"sources":["assets\\Test\\GameProcess\\FreeProcessTest.ts"],"names":[],"mappings":";;;;;;AAAA,2EAAkF;AAClF,kFAA6E;AAC7E,qFAAkF;AAElF,4FAAyF;AACzF,qDAAoD;AAEpD;;;;;GAKG;AACH;IAII;QACI,IAAI,CAAC,YAAY;YACb,uCAAkB;iBACjB,QAAQ,EAAgB;iBACpB,SAAS,CAAC,2BAAY,CAAC,MAAM,CAAC,CAAC;IAC5C,CAAC;IAED,kCAAQ,GAAR;QACI,OAAO,IAAI,OAAO,CAAC,UAAA,OAAO;YACtB,iBAAQ,CAAC,WAAW,CAAC,KAAK,EAAE,yBAAe,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YACnE,IAAI,CAAC,GAAG,WAAW,CAAC;gBAChB,IAAI,yBAAe,CAAC,QAAQ,CAAC,UAAU,EAAE;oBACrC,aAAa,CAAC,CAAC,CAAC,CAAC;oBACjB,OAAO,EAAE,CAAC;iBACb;YACL,CAAC,EAAE,GAAG,CAAC,CAAC;QACZ,CAAC,CAAC,CAAC;IACP,CAAC;IAED,+BAAK,GAAL;QACI,OAAO,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;IACtC,CAAC;IAED,qCAAW,GAAX;QACI,OAAO,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;IACtC,CAAC;IAED,wCAAc,GAAd;QACI,mCAAmC;QACnC,IAAI,IAAI,CAAC,YAAY,CAAC,aAAa,GAAG,CAAC,EAAE;YACrC,yBAAe,CAAC,QAAQ,CAAC,SAAS,GAAG,qBAAS,CAAC,OAAO,CAAC;YACvD,yBAAe,CAAC,QAAQ,CAAC,aAAa,CAAC,oBAAQ,CAAC,IAAI,CAAC,CAAC;YACtD,OAAO;SACV;IACL,CAAC;IACL,sBAAC;AAAD,CAvCA,AAuCC,IAAA","file":"","sourceRoot":"/","sourcesContent":["import {GameState, GameType} from \"../../script/Framework/Process/Enum/GameState\";\r\nimport SlotGameManager from \"../../script/Framework/Process/SlotGameManager\";\r\nimport {ResponseType} from \"../../script/Framework/WebResponse/Enum/ResponseType\";\r\nimport NoLineResult from \"../../script/Framework/WebResponse/SeverDataModel/NormalResult/NoLineResult\";\r\nimport {WebResponseManager} from \"../../script/Framework/WebResponse/WebResponseManager\";\r\nimport {socketJS} from \"../../script/Socket/Socket\";\r\n\r\n/**\r\n * @Author XIAO-LI-PIN\r\n * @Description (測試)直接跳過所有一般模式,直到server回傳下局是free模式時,更改遊戲流程為正常狀態free流程\r\n * @Date 2021-05-17 下午 05:00\r\n * @Version 1.0\r\n */\r\nexport default class FreeProcessTest implements IGameProcedureExecutionContainer{\r\n\r\n    private normalResult :INoLineResultModel;\r\n\r\n    constructor() {\r\n        this.normalResult =\r\n            WebResponseManager\r\n            .instance<NoLineResult>()\r\n                .getResult(ResponseType.NORMAL);\r\n    }\r\n\r\n    onCreate(): Promise<void> {\r\n        return new Promise(resolve => {\r\n            socketJS.SFSToServer(\"Bet\", SlotGameManager.instance.userBetPoint);\r\n            let a = setInterval(() => {\r\n                if (SlotGameManager.instance.isResultOk) {\r\n                    clearInterval(a);\r\n                    resolve();\r\n                }\r\n            }, 0.5);\r\n        });\r\n    }\r\n\r\n    onEnd(): Promise<void> {\r\n        return Promise.resolve(undefined);\r\n    }\r\n\r\n    onExecution(): Promise<void> {\r\n        return Promise.resolve(undefined);\r\n    }\r\n\r\n    onChangeStatus() {\r\n        //如果一般模式中response的免費次數不等於0,進入free狀態\r\n        if (this.normalResult.FreeSpinCount > 0) {\r\n            SlotGameManager.instance.gameState = GameState.FREEING;\r\n            SlotGameManager.instance.changeProcess(GameType.FREE);\r\n            return;\r\n        }\r\n    }\r\n}\r\n"]}