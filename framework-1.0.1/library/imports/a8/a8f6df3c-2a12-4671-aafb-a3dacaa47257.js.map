{"version":3,"sources":["assets\\script\\MainGameScript\\Controller\\InstructionController.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import {Music} from \"../../Framework/Audio/AudioManager\";\r\nimport ButtonMethod from '../../Framework/GlobalMethod/ButtonMethod'\r\nimport LanguageMethod from \"../../Framework/GlobalMethod/LanguageMethod\";\r\nimport {SceneDirectionType} from '../../Framework/Scene/Enum/SceneStyle'\r\nimport SceneDirectionChangeNotification from \"../../Framework/Scene/SceneNotification/SceneDirectionChangeNotification\";\r\nimport SceneDirectionChangeObserver from \"../../Framework/Scene/SceneObserver/SceneDirectionChangeObserver\";\r\nimport SceneManager from '../../Framework/Scene/SceneManager'\r\nimport AGenericTemplate from '../../Framework/Template/AGenericTemplate'\r\nimport SocketSetting from '../../Socket/SocketSetting'\r\nimport MainGameButton from '../ButtonEvent/MainGameButton'\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class InstructionController extends AGenericTemplate {\r\n\r\n    @property(cc.Node)\r\n    pageH: cc.Node = null;\r\n    @property(cc.Node)\r\n    pageV: cc.Node = null;\r\n    @property(cc.Label)\r\n    userMoneyTextH: cc.Label = null;\r\n    @property(cc.Label)\r\n    userMoneyTextV: cc.Label = null;\r\n    @property(cc.Label)\r\n    menuTextH: cc.Label = null;\r\n    @property(cc.Label)\r\n    menuTextV: cc.Label = null;\r\n    @property(cc.Label)\r\n    startButtonAutoTextH: cc.Label = null;\r\n    @property(cc.Label)\r\n    startButtonAutoTextV: cc.Label = null;\r\n    @property(cc.Label)\r\n    autoTextH: cc.Label = null;\r\n    @property(cc.Label)\r\n    autoTextV: cc.Label = null;\r\n    @property(cc.Label)\r\n    speedTextH: cc.Label = null;\r\n    @property(cc.Label)\r\n    speedTextV: cc.Label = null;\r\n\r\n    private sceneDirectionChangeObserver: SceneDirectionChangeObserver;\r\n    public static instance: InstructionController;\r\n\r\n    protected onCreate() {\r\n        InstructionController.instance = this;\r\n        switch (SceneManager.instance.sceneDirection) {\r\n            case SceneDirectionType.LANDSCAPE:\r\n                this.pageH.active = true;\r\n                this.pageV.active = false;\r\n                break;\r\n            case SceneDirectionType.PORTRAIT:\r\n                this.pageV.active = true;\r\n                this.pageH.active = false;\r\n                break;\r\n        }\r\n\r\n        ButtonMethod.addButtonEvent(\r\n            this.pageH.getComponent(cc.Button),\r\n            \"pageTouchListener\",\r\n            this\r\n        );\r\n\r\n        ButtonMethod.addButtonEvent(\r\n            this.pageV.getComponent(cc.Button),\r\n            \"pageTouchListener\",\r\n            this\r\n        );\r\n\r\n        this.sceneDirectionChangeObserver = this.sceneDirectionObserverListener();\r\n        SceneDirectionChangeNotification.instance.subscribe(this.sceneDirectionChangeObserver,true);\r\n    }\r\n\r\n    protected languageSetting() {\r\n\r\n        this.userMoneyTextH.string = SocketSetting.t(\"HELP_001\");\r\n        this.userMoneyTextV.string = SocketSetting.t(\"HELP_001\");\r\n        this.menuTextH.string = SocketSetting.t(\"HELP_005\");\r\n        this.menuTextV.string = SocketSetting.t(\"HELP_005\");\r\n        this.startButtonAutoTextH.string = SocketSetting.t(\"HELP_008\");\r\n        this.startButtonAutoTextV.string = SocketSetting.t(\"HELP_008\");\r\n        this.autoTextH.string = SocketSetting.t(\"S_1001\");\r\n        this.autoTextV.string = SocketSetting.t(\"S_1001\");\r\n        this.speedTextH.string = SocketSetting.t(\"HELP_004\");\r\n        this.speedTextV.string = SocketSetting.t(\"HELP_004\");\r\n\r\n        LanguageMethod.instance\r\n            .updateLabelStyle(this.userMoneyTextH)\r\n            .updateLabelStyle(this.userMoneyTextV)\r\n            .updateLabelStyle(this.menuTextH)\r\n            .updateLabelStyle(this.menuTextV)\r\n            .updateLabelStyle(this.startButtonAutoTextH)\r\n            .updateLabelStyle(this.startButtonAutoTextV)\r\n            .updateLabelStyle(this.autoTextH)\r\n            .updateLabelStyle(this.autoTextV)\r\n            .updateLabelStyle(this.speedTextH)\r\n            .updateLabelStyle(this.speedTextV)\r\n\r\n    }\r\n\r\n    /**\r\n     * 離開說明頁進入遊戲遊玩待機模式\r\n     * @private\r\n     */\r\n    @Music(\"NBS\")\r\n    private pageTouchListener() {\r\n        MainGameButton.instance.startButtonOnEnable();\r\n        this.node.destroy();\r\n    }\r\n\r\n\r\n\r\n    private sceneDirectionObserverListener(): SceneDirectionChangeObserver {\r\n\r\n        return new SceneDirectionChangeObserver((type) => {\r\n            if (type == SceneDirectionType.LANDSCAPE) {\r\n\r\n                this.pageH.active = true;\r\n                this.pageV.active = false;\r\n\r\n            } else if (type == SceneDirectionType.PORTRAIT) {\r\n\r\n                this.pageV.active = true;\r\n                this.pageH.active = false;\r\n\r\n            } else {\r\n                cc.log(`MainGameSetting sceneDirectionEvent() 有錯誤 : ${type}`);\r\n            }\r\n        }, this);\r\n    }\r\n\r\n    protected onDestroy() {\r\n        SceneDirectionChangeNotification.instance.unsubscribe(this.sceneDirectionChangeObserver)\r\n    }\r\n}"]}