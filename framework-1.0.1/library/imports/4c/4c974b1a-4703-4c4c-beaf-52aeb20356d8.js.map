{"version":3,"sources":["assets\\script\\Framework\\Config\\SlotConfigManager.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import AudioManager from '../Audio/AudioManager'\r\nimport ErrorManager from '../Error/ErrorManager'\r\nimport EventManager from '../Listener/EventManager'\r\nimport LoadResManager from '../LoadResources/LoadResManager'\r\nimport SlotGameManager from '../Process/SlotGameManager'\r\nimport SceneManager from '../Scene/SceneManager'\r\nimport SlotStyleManager from '../Slot/SlotStyleManager'\r\nimport WebRequestManager from '../WebRequest/WebRequestManager'\r\nimport {WebResponseManager} from '../WebResponse/WebResponseManager'\r\nimport {AutoType, LanguageType} from \"./Enum/ConfigEnum\";\r\nimport {ISlotConfigManager, UserBetPoint} from \"./IConfig/ISlotConfigManager\";\r\n\r\n/**\r\n * @Author XIAO-LI-PIN\r\n * @Description 遊戲初始設定,並透過builder加載所有Manager\r\n * @Date 2021-05-13 上午 10:24\r\n * @Version 1.1\r\n */\r\nexport default class SlotConfigManager implements ISlotConfigManager {\r\n\r\n    private static _instance: ISlotConfigManager;\r\n\r\n    /**\r\n     * 載入外部資源URL(只有開發模式中有效)\r\n     * @type {string}\r\n     * @private\r\n     */\r\n    private _externallyLoadURL: string;\r\n\r\n    /**\r\n     * 當前遊戲名稱\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    private _gameNumber: number;\r\n\r\n    /**\r\n     * 是否在遊戲進入後開啟auto狀態\r\n     * @type {boolean}\r\n     * @private\r\n     */\r\n    private _isAuto: boolean;\r\n\r\n    /**\r\n     * 初始遊戲最初的auto次數\r\n     * @type {AutoType}\r\n     * @private\r\n     */\r\n    private _autoCount: AutoType;\r\n\r\n    /**\r\n     * 是否在遊戲進入後是加速的狀態\r\n     * @type {boolean}\r\n     * @private\r\n     */\r\n    private _isSpeedUp: boolean;\r\n\r\n    /**\r\n     * 初始背景音樂音量(該音量將會成為AudioManager內預設音量)\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    private _musicVolume: number;\r\n\r\n    /**\r\n     * 初始將背景音樂靜音\r\n     * @type {boolean}\r\n     * @private\r\n     */\r\n    private _isMusicOnMute: boolean;\r\n\r\n    /**\r\n     * 初始效果音量(該音量將會成為AudioManager內預設音量)\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    private _effectVolume: number;\r\n\r\n    /**\r\n     * 初始將效果音效靜音\r\n     * @type {boolean}\r\n     * @private\r\n     */\r\n    private _isEffectOnMute: boolean;\r\n\r\n    /**\r\n     * 初始遊戲開始前的用戶押注倍率\r\n     * @type {UserBetPoint}\r\n     * @private\r\n     */\r\n    private _userBet: UserBetPoint;\r\n\r\n    /**\r\n     * 初始當前語系(只有開發模式中有效)\r\n     * 注意:目前此方法失效\r\n     * @type {LanguageType}\r\n     * @private\r\n     */\r\n    private _language: LanguageType;\r\n    /**\r\n     * 返回首頁URL\r\n     */\r\n    private _backHomeURL: string;\r\n\r\n    /**\r\n     * 是否要開啟Framework Debug模式\r\n     * 注意:遊戲正式上線須關閉\r\n     * @type {boolean}\r\n     * @private\r\n     */\r\n    private _isFrameworkDebug: boolean;\r\n\r\n    private constructor() {\r\n\r\n        this._gameNumber = null;                                //該遊戲名稱\r\n        this._externallyLoadURL = \"\"                            //預設測試使用\r\n        this._isAuto = false;                                   //是否自動\r\n        this._isSpeedUp = false;                                //是否加速\r\n        this._autoCount = AutoType.auto;                        //初始自動狀態\r\n        this._musicVolume = 1;                                  //遊戲音量\r\n        this._effectVolume = 1;                                 //效果音量\r\n        this._isMusicOnMute = false                             //是否打開背景音效\r\n        this._isEffectOnMute = false                            //是否打開效果音校\r\n        this._userBet = {LineBet: 0};                           //初始user倍率\r\n        this._language = LanguageType.Chinese                   //初始當前語系,將依據該語系,載入所有耦合圖檔\r\n        this._backHomeURL = undefined                           //初始返回首頁URL\r\n        this._isFrameworkDebug = false;                         //是否要開啟框架的Debug模式\r\n\r\n    }\r\n\r\n    /**\r\n     * 懶漢加載\r\n     * 初始化,只讓一個專案只有一次產生此class\r\n     * @returns {SlotConfigManager}\r\n     */\r\n    public static get instance(): ISlotConfigManager {\r\n        if (!this._instance) {\r\n            this._instance = new SlotConfigManager();\r\n        }\r\n\r\n        return this._instance;\r\n    }\r\n\r\n    /**\r\n     * 添加遊戲名稱\r\n     * @param {number} name : 遊戲名稱\r\n     * @returns {this}\r\n     */\r\n    setGameNumber(name: number) {\r\n\r\n        this._gameNumber = name;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 設置初始預設音量\r\n     * @param {number} number : 音量 0~1\r\n     * @returns {this}\r\n     */\r\n    setMusicVolume(number: number) {\r\n        this._musicVolume = number\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 設置初始預設效果音量\r\n     * @param {number} number : 音量 0~1\r\n     * @returns {this}\r\n     */\r\n    setEffectVolume(number: number) {\r\n        this._effectVolume = number;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 設置初始User倍率\r\n     * @param {UserBetPoint | number} lineBet : 參數可以直接使用倍率的index or 給予 實例化的UserBetPoint Object\r\n     * @returns {this}\r\n     */\r\n    setUserBet(lineBet: UserBetPoint | number) {\r\n\r\n        if (lineBet instanceof Object) {\r\n\r\n            this._userBet = lineBet;\r\n\r\n        } else {\r\n            this._userBet = {\r\n                LineBet: lineBet,\r\n            };\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 初始遊戲最初的auto次數\r\n     * @param {AutoType} type\r\n     * @returns {this}\r\n     */\r\n    setAutoCont(type: AutoType) {\r\n        this._autoCount = type;\r\n        return this;\r\n    }\r\n\r\n\r\n    /**\r\n     * 初始要從外部拿取資源的URL\r\n     * 注意:此URL為開發中生效\r\n     * @param {string} url : 獲取外部資源的URL\r\n     * @returns {this}\r\n     */\r\n    setExternallyLoadURL(url: string): this {\r\n        this._externallyLoadURL = url;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 貫穿整個遊戲,到destroy前遊戲語系\r\n     * 注意:當前使用無效\r\n     * @param {LanguageType} languageType : 語系\r\n     * @returns {this}\r\n     */\r\n    setLanguage(languageType: LanguageType): this {\r\n\r\n        this._language = languageType;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 初始進入遊戲時Auto狀態\r\n     * @param {boolean} isAuto : 是否在遊戲進入後開啟auto狀態\r\n     * @returns {this}\r\n     */\r\n    setAutoState(isAuto: boolean): this {\r\n        this._isAuto = isAuto;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 是否在遊戲進入後是加速的狀態\r\n     * @param {boolean} isSpeedUp\r\n     * @returns {this}\r\n     */\r\n    setSpeedState(isSpeedUp: boolean): this {\r\n\r\n        this._isSpeedUp = isSpeedUp;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 初始將背景音樂靜音\r\n     * @param {boolean} OnMute : 是否靜音\r\n     * @returns {this}\r\n     */\r\n    setMusicOnMute(OnMute: boolean): this {\r\n\r\n        this._isMusicOnMute = OnMute;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 初始是否將效果音效靜音\r\n     * @param {boolean} OnMute : 是否靜音\r\n     * @returns {this}\r\n     */\r\n    public setEffectOnMute(OnMute: boolean): this {\r\n\r\n        this._isEffectOnMute = OnMute;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 是否要開啟Framework Debug模式\r\n     * 注意:遊戲正式上線須關閉\r\n     * @param {boolean} use\r\n     * @returns {this}\r\n     */\r\n    setFrameWorkDebug(use: boolean) {\r\n        this._isFrameworkDebug = use;\r\n        return this;\r\n    }\r\n\r\n    setBackHomeURL(url: string): this {\r\n        this._backHomeURL = url;\r\n        return this;\r\n    }\r\n\r\n\r\n    /**\r\n     * 實例化所有Manager class;\r\n     */\r\n    public builder() {\r\n        AudioManager.setInstance(this);\r\n        ErrorManager.setInstance(this);\r\n        EventManager.setInstance(this);\r\n        LoadResManager.setInstance(this);\r\n        SlotGameManager.setInstance(this);\r\n        SceneManager.setInstance(this);\r\n        SlotStyleManager.setInstance(this);\r\n        WebResponseManager.setInstance(this);\r\n        WebRequestManager.setInstance(this);\r\n    }\r\n\r\n// get -----------------------------------------------------------------\r\n\r\n    get userBet(): UserBetPoint {\r\n\r\n        return this._userBet;\r\n    }\r\n\r\n    get externallyLoadURL(): string {\r\n        return this._externallyLoadURL;\r\n    }\r\n\r\n    get gameNumber(): number {\r\n        return this._gameNumber;\r\n    }\r\n\r\n    get isAuto(): boolean {\r\n        return this._isAuto;\r\n    }\r\n\r\n    get autoCount(): number {\r\n        return this._autoCount;\r\n    }\r\n\r\n    get isSpeedUp(): boolean {\r\n        return this._isSpeedUp;\r\n    }\r\n\r\n    get musicVolume(): number {\r\n        return this._musicVolume;\r\n    }\r\n\r\n    get effectVolume(): number {\r\n        return this._effectVolume;\r\n    }\r\n\r\n    get language(): LanguageType {\r\n        return this._language;\r\n    }\r\n\r\n    get isFrameworkDebug(): boolean {\r\n        return this._isFrameworkDebug;\r\n    }\r\n\r\n    get isEffectOnMute(): boolean {\r\n        return this._isEffectOnMute\r\n    }\r\n\r\n    get isMusicOnMute(): boolean {\r\n        return this._isMusicOnMute;\r\n    }\r\n\r\n    get backHomeURL(): string {\r\n        return this._backHomeURL;\r\n    }\r\n}"]}