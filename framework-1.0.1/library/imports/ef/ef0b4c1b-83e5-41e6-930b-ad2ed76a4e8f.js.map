{"version":3,"sources":["assets\\script\\Framework\\Process\\Procress\\SlotGameProcess.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;GAKG;AACH;IAaI,yBAAY,SAA2C;QACnD,IAAI,CAAC,mBAAmB,GAAG,SAA6C,CAAC;QACzE,IAAI,CAAC,OAAO,GAAG,IAAI,GAAG,EAAE,CAAC,CAAc,cAAc;IACzD,CAAC;IAEM,0CAAgB,GAAvB;QAEI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,CAAC;QAE5D,OAAO,IAAI,CAAC;IAChB,CAAC;IAEM,sCAAY,GAAnB;QAEI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,mBAAmB,CAAC,YAAY,CAAC,CAAC;QAExD,OAAO,IAAI,CAAC;IAChB,CAAC;IAEM,mCAAS,GAAhB;QAEI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC;QAErD,OAAO,IAAI,CAAC;IAChB,CAAC;IAEM,uCAAa,GAApB;QAEI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,mBAAmB,CAAC,aAAa,CAAC,CAAC;QAEzD,OAAO,IAAI,CAAC;IAChB,CAAC;IAEM,wCAAc,GAArB;QAEI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,CAAC;QAE1D,OAAO,IAAI,CAAC;IAChB,CAAC;IAEM,sCAAY,GAAnB;QAEI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,mBAAmB,CAAC,YAAY,CAAC,CAAC;QAExD,OAAO,IAAI,CAAC;IAChB,CAAC;IAED,wCAAc,GAAd;QACI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,CAAC;QAC1D,OAAO,IAAI,CAAC;IAChB,CAAC;IAEY,+BAAK,GAAlB;uCAAsB,OAAO;;;;;;;wBACN,KAAA,SAAA,IAAI,CAAC,OAAO,CAAA;;;;wBAAtB,MAAM;wBACX,qBAAM,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,mBAAmB,CAAC,EAAA;;wBAA5C,SAA4C,CAAC;;;;;;;;;;;;;;;;;;;;KAEpD;IACL,sBAAC;AAAD,CAtEA,AAsEC,IAAA","file":"","sourceRoot":"/","sourcesContent":["/**\r\n * @Author XIAO-LI-PIN\r\n * @Description 老虎機流程\r\n * @Date 2021-05-14 下午 03:07\r\n * @Version 1.0\r\n */\r\nexport default class SlotGameProcess implements ISlotGameProcess {\r\n    /**\r\n     * 保存使用者流程\r\n     * @type {Set<Function>}\r\n     * @private\r\n     */\r\n    private readonly process: Set<() => Promise<void>|void>;\r\n    /**\r\n     * 流程執行\r\n     * @type {ISlotProcedureExecutionContainer}\r\n     * @private\r\n     */\r\n    private readonly _executionContainer: ISlotProcedureExecutionContainer;\r\n    constructor(container: ISlotProcedureExecutionContainer) {\r\n        this._executionContainer = container as ISlotProcedureExecutionContainer;\r\n        this.process = new Set();              //初始化,存放要執行的方法\r\n    }\r\n\r\n    public onCustomizeStart(): this {\r\n\r\n        this.process.add(this._executionContainer.onCustomizeStart);\r\n\r\n        return this;\r\n    }\r\n\r\n    public onSineInGrid(): this {\r\n\r\n        this.process.add(this._executionContainer.onSineInGrid);\r\n\r\n        return this;\r\n    }\r\n\r\n    public onRunning(): this {\r\n\r\n        this.process.add(this._executionContainer.onRunGrid);\r\n\r\n        return this;\r\n    }\r\n\r\n    public onSineOutGrid(): this {\r\n\r\n        this.process.add(this._executionContainer.onSineOutGrid);\r\n\r\n        return this;\r\n    }\r\n\r\n    public onCustomizeEnd(): this {\r\n\r\n        this.process.add(this._executionContainer.onCustomizeEnd);\r\n\r\n        return this;\r\n    }\r\n\r\n    public onShowAnswer(): this {\r\n\r\n        this.process.add(this._executionContainer.onShowAnswer);\r\n\r\n        return this;\r\n    }\r\n\r\n    onChangeStatus(): this {\r\n        this.process.add(this._executionContainer.onChangeStatus);\r\n        return this;\r\n    }\r\n\r\n    public async start(): Promise<void> {\r\n        for (let method of this.process) {\r\n            await method.apply(this._executionContainer);\r\n        }\r\n    }\r\n}"]}