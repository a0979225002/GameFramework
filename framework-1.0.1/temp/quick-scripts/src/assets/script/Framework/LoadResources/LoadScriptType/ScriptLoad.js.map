{"version":3,"sources":["assets\\script\\Framework\\LoadResources\\LoadScriptType\\ScriptLoad.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,oEAA8D;AAC9D,sEAA2D;AAC3D,yDAAmD;AACnD,4DAAsD;AACtD,oDAA8C;AAG9C;IAAwC,8BAAe;IAInD,oBAAY,UAAkB,EAAE,IAAY,EAAE,GAAW;QAAzD,YACI,kBAAM,UAAU,EAAE,IAAI,EAAE,GAAG,CAAC,SAI/B;QAFG,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;;IAErD,CAAC;IAGD,+BAAU,GAAV;QACI,IAAI,GAAG,GAAM,2BAAiB,CAAC,QAAQ,CAAC,iBAAiB,SAAI,IAAI,CAAC,GAAG,SAAI,IAAI,CAAC,UAAU,QAAK,CAAC;QAC9F,IAAI,wBAAc,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;YAC5C,sBAAY,CAAC,QAAQ,CAAC,YAAY,CAAC,4BAAS,CAAC,WAAW,EAAE,sFAAmB,GAAK,CAAC,CAAA;SACtF;QACD,IAAI,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QAC/B,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,GAAG,CAAC;QACxB,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC;QACjC,yBAAe,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAChD,wBAAc,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAC/C,CAAC;IAED,yBAAI,GAAJ;QACI,EAAE,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,EAAC,yBAAe,CAAC,IAAI,CAAC,CAAA;IACnD,CAAC;IAEL,iBAAC;AAAD,CA5BA,AA4BC,CA5BuC,yBAAe,GA4BtD","file":"","sourceRoot":"/","sourcesContent":["import SlotConfigManager from '../../Config/SlotConfigManager'\r\nimport {ErrorType} from '../../Error/Enum/ErrorManagerEnum'\r\nimport ErrorManager from '../../Error/ErrorManager'\r\nimport ALoadScriptType from '../ILoad/ALoadScriptType'\r\nimport LoadResManager from '../LoadResManager'\r\n\r\n\r\nexport default class ScriptLoad extends ALoadScriptType {\r\n\r\n    private readonly linkElem: HTMLScriptElement\r\n\r\n    constructor(scriptName: string, type: string, url: string) {\r\n        super(scriptName, type, url)\r\n\r\n        this.linkElem = document.createElement(\"script\");\r\n\r\n    }\r\n\r\n\r\n    loadScript() {\r\n        let url = `${SlotConfigManager.instance.externallyLoadURL}/${this.url}/${this.scriptName}.js`;\r\n        if (LoadResManager.instance.scriptRes.has(url)) {\r\n            ErrorManager.instance.executeError(ErrorType.LoadErrorFW, `請勿重複加載已有的外部腳本 : ${url}`)\r\n        }\r\n        this.linkElem.type = this.type;\r\n        this.linkElem.src = url;\r\n        this.linkElem.onload = this.test;\r\n        ALoadScriptType.head.appendChild(this.linkElem);\r\n        LoadResManager.instance.scriptRes.add(url);\r\n    }\r\n\r\n    test() {\r\n        cc.log(\"測試加載script\", \"00\",ALoadScriptType.head)\r\n    }\r\n\r\n}"]}